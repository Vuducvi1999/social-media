{"version":3,"sources":["redux/actions/actionTypes.jsx","redux/reducers/jwtReducer.jsx","redux/reducers/usersReducer.jsx","redux/reducers/postsReducer.jsx","redux/index.jsx","auth/PrivateRoute.jsx","auth/index.js","config.js","user/uuid.jsx","post/apiPost.jsx","post/FindPost.jsx","core/Home.jsx","user/apiUser.jsx","core/Menu.jsx","core/Post.jsx","core/FindUser.jsx","core/Users.jsx","post/CreatePost.jsx","user/EditProfile.jsx","user/Profile.jsx","user/Signin.jsx","user/Signup.jsx","post/UpdatePost.jsx","Routes.js","index.js"],"names":["GET_USER","GET_ALL_USER","GET_ALL_POST","init","token","user","reducers","combineReducers","jwt","state","action","type","payload","users","posts","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","PrivateRoute","children","rest","render","props","localStorage","getItem","JSON","parse","to","pathname","location","prev","API_URL","uuid","dt","Date","getTime","replace","c","r","Math","random","floor","toString","CalcTime","createdAt","length","getPosts","fetch","method","then","res","json","catch","e","console","log","connect","useState","find","setFind","result","setResult","pages","setPages","pagination","setPagination","Submit","preventDefault","trim","headers","body","stringify","findPost","data","arr","sl","ceil","i","push","Change","target","value","className","onSubmit","onChange","placeholder","class","slice","map","p","_id","style","backgroundImage","title","postedBy","name","onClick","padding","backgroundColor","color","useEffect","scrollTo","temp","marginBottom","getUser","id","withRouter","dispatch","match","exact","removeItem","post","setPost","requireSignin","setRequireSignin","signinToComment","setSigninToComment","text","setText","showImg","setShowImg","error","setError","params","postId","currentPost","Uncomment","userId","Authorization","uncommentPost","commentPost","position","src","alt","wordBreak","lineHeight","likes","unlikePost","confirm","history","comments","listUser","pos","flexFlow","flexBasis","flexShrink","backgroundPosition","backgroundSize","width","paddingTop","flexGrow","about","findUser","allusers","initvalue","photo","success","formData","loading","values","setValue","setformData","FormData","files","set","postPost","Error","htmlFor","rows","email","password","formSubmit","form","updateUser","setItem","showError","setUser","isOne","setIsOne","undefined","follow","setFollow","setLoading","userPosts","setUserPosts","following","deleteAcc","Follow","followId","Unfollow","unfollowId","err","toLocaleString","followers","signinAPI","setformSubmit","updatePost","whiteSpace","Routes","path","component","Home","Profile","Signup","Signin","Users","Post","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.be7af098.chunk.js","sourcesContent":["export const GET_USER = \"GET_USER\";\r\nexport const GET_ALL_USER = \"GET_ALL_USER\";\r\nexport const GET_ALL_POST = \"GET_ALL_POST\";\r\n","import { GET_USER } from \"../actions/actionTypes\";\r\n\r\nconst init = { token: \"\", user: {} };\r\n\r\nexport const jwtReducer = (state = init, action) => {\r\n  switch (action.type) {\r\n    case GET_USER:\r\n      return { ...action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { GET_ALL_USER } from \"../actions/actionTypes\";\r\n\r\nconst init = [];\r\n\r\nexport const usersReducer = (state = init, action) => {\r\n  switch (action.type) {\r\n    case GET_ALL_USER:\r\n      return [...action.payload];\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { GET_ALL_POST } from \"../actions/actionTypes\";\r\n\r\nconst init = [];\r\n\r\nexport const postsReducer = (state = init, action) => {\r\n  switch (action.type) {\r\n    case GET_ALL_POST:\r\n      return [...action.payload];\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers, createStore } from \"redux\";\r\nimport { jwtReducer } from \"./reducers/jwtReducer\";\r\nimport { usersReducer } from \"./reducers/usersReducer\";\r\nimport { postsReducer } from \"./reducers/postsReducer\";\r\n\r\nconst reducers = combineReducers({\r\n  jwt: jwtReducer,\r\n  users: usersReducer,\r\n  posts: postsReducer,\r\n});\r\n\r\nexport const store = createStore(\r\n  reducers,\r\n  window.__REDUX_DEVTOOLS_EXTENSION__\r\n    ? window.__REDUX_DEVTOOLS_EXTENSION__ &&\r\n        window.__REDUX_DEVTOOLS_EXTENSION__()\r\n    : null\r\n);\r\n","import React from \"react\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\nimport { Auth } from \"./index\";\r\n\r\nconst PrivateRoute = ({ children, ...rest }) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        Auth() ? (\r\n          children\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: props.location.state ? props.location.state.prev : \"/\",\r\n              state: { prev: props.location.pathname },\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\n// const mapStateToProps = (state) => ({\r\n//   jwt: state.jwt,\r\n// });\r\n\r\nexport default PrivateRoute;\r\n","export const Auth = () => {\r\n  if (typeof window === \"undefined\") return false;\r\n  if (localStorage.getItem(\"jwt\"))\r\n    return JSON.parse(localStorage.getItem(\"jwt\"));\r\n  else return false;\r\n};\r\n","export const API_URL = \"https://easy-social-vuducvi.herokuapp.com/api\";\r\n","export const uuid = () => {\r\n  var dt = new Date().getTime();\r\n  var uuid = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (\r\n    c\r\n  ) {\r\n    var r = (dt + Math.random() * 16) % 16 | 0;\r\n    dt = Math.floor(dt / 16);\r\n    return (c === \"x\" ? r : (r & 0x3) | 0x8).toString(16);\r\n  });\r\n  return uuid;\r\n};\r\n\r\nexport const CalcTime = (createdAt) => {\r\n  const length = (new Date() - new Date(createdAt)) / 86400000;\r\n  if (length * 24 < 1)\r\n    return Math.floor(length * 24 * 60).toString() + \" minutes ago\";\r\n  if (length < 1) return Math.floor(length * 24).toString() + \" hours ago\";\r\n  if (length < 30) return Math.floor(length).toString() + \" days ago\";\r\n  if (length > 30) return Math.floor(length / 30).toString() + \" months ago\";\r\n};\r\n","import { API_URL } from \"../config\";\r\n\r\nexport const getPosts = () =>\r\n  fetch(`${API_URL}/post/posts`, { method: \"GET\" })\r\n    .then((res) => res.json())\r\n    .catch((e) => console.log(e));\r\n\r\nexport const postPost = (formData, token) =>\r\n  fetch(`${API_URL}/post/create`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: formData,\r\n  })\r\n    .then((res) => res.json())\r\n    .catch((e) => console.log(e));\r\n\r\nexport const updatePost = (formData, id, token) =>\r\n  fetch(`${API_URL}/post/update/${id}`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: formData,\r\n  })\r\n    .then((res) => res.json())\r\n    .catch((e) => console.log(e));\r\n\r\nexport const deletePost = (id, token) =>\r\n  fetch(`${API_URL}/post/delete/${id}`, {\r\n    method: \"DELETE\",\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((res) => res.json())\r\n    .catch((e) => console.log(e));\r\n\r\nexport const likePost = (userId, postId, token) =>\r\n  fetch(`${API_URL}/post/like`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      \"Content-type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({ userId, postId }),\r\n  })\r\n    .then((res) => res.json())\r\n    .catch((e) => console.log(e));\r\n\r\nexport const unlikePost = (userId, postId, token) =>\r\n  fetch(`${API_URL}/post/unlike`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      \"Content-type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({ userId, postId }),\r\n  })\r\n    .then((res) => res.json())\r\n    .catch((e) => console.log(e));\r\n\r\nexport const commentPost = (userId, postId, text, token) =>\r\n  fetch(`${API_URL}/post/comment`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      \"Content-type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({ text, userId, postId }),\r\n  })\r\n    .then((res) => res.json())\r\n    .catch((e) => console.log(e));\r\n\r\nexport const uncommentPost = (userId, postId, text, token) =>\r\n  fetch(`${API_URL}/post/uncomment`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      \"Content-type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({ text, userId, postId }),\r\n  })\r\n    .then((res) => res.json())\r\n    .catch((e) => console.log(e));\r\n\r\nexport const findPost = (find) =>\r\n  fetch(`${API_URL}/post/find`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ find }),\r\n  })\r\n    .then((res) => res.json())\r\n    .catch((e) => console.log(e));\r\n","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { API_URL } from \"../config\";\r\nimport { CalcTime, uuid } from \"../user/uuid\";\r\nimport { findPost } from \"./apiPost\";\r\n\r\nconst FindPost = ({ jwt, ...props }) => {\r\n  const [find, setFind] = useState(\"\");\r\n  const [result, setResult] = useState([]);\r\n  const [pages, setPages] = useState([]);\r\n  const [pagination, setPagination] = useState(1);\r\n\r\n  const renderPost = () => (\r\n    <>\r\n      <div className=\"col-12 d-flex\">\r\n        <div class=\"card-columns\">\r\n          {result.length !== 0 &&\r\n            result.slice((pagination - 1) * 3, pagination * 3).map((p) => (\r\n              <div\r\n                key={uuid()}\r\n                //  className=\"col-sm-6 col-md-4 col-lg-3 mb-3\"\r\n              >\r\n                <div className=\"card\">\r\n                  <Link to={`/post/${p._id}`}>\r\n                    <div\r\n                      className=\"img-post\"\r\n                      style={{\r\n                        backgroundImage: `url(${API_URL}/post/photo/${p._id})`,\r\n                      }}\r\n                    ></div>\r\n                  </Link>\r\n                  <div className=\"card-body\">\r\n                    <h5 className=\"card-title\">\r\n                      {p.title.length > 50\r\n                        ? p.title.slice(0, 100) + \" ...more\"\r\n                        : p.title}\r\n                    </h5>\r\n\r\n                    <p className=\"card-text\">\r\n                      {p.body.length > 50\r\n                        ? p.body.slice(0, 100) + \" ...more\"\r\n                        : p.body}\r\n                    </p>\r\n                    <div className=\"post-footer py-2 d-flex justify-content-between\">\r\n                      <h6 className=\" small m-0 text-muted\">\r\n                        Posted by{\" \"}\r\n                        <Link to={`/profile/${p.postedBy._id}`}>\r\n                          {p.postedBy.name}\r\n                        </Link>\r\n                      </h6>\r\n                      <h6 className=\"small m-0 text-muted\">\r\n                        {CalcTime(p.createdAt)}\r\n                      </h6>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n\r\n  const Submit = (e) => {\r\n    e.preventDefault();\r\n    if (!find.trim()) return setResult([]);\r\n    findPost(find)\r\n      .then((data) => {\r\n        setResult(data);\r\n        console.log(data);\r\n        let arr = [];\r\n        let sl = Math.ceil(data.length / 3);\r\n        for (let i = 1; i < sl + 1; i++) arr.push(i);\r\n        setPages(arr);\r\n      })\r\n      .catch((e) => console.log(e));\r\n  };\r\n  const Change = (e) => setFind(e.target.value);\r\n\r\n  const form = () => (\r\n    <>\r\n      <form onSubmit={Submit}>\r\n        <div className=\"input-group mb-3\">\r\n          <input\r\n            onChange={Change}\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"Title post...\"\r\n          />\r\n          <div className=\"input-group-append\">\r\n            <button className=\"btn btn-outline-secondary ml-3\" type=\"submit\">\r\n              Find Post\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <div className=\"col-12\">\r\n        <div className=\"mb-4\">{form()}</div>\r\n      </div>\r\n\r\n      {renderPost()}\r\n      {result.length !== 0 && (\r\n        <>\r\n          <div className=\"col-12 d-flex justify-content-center\">\r\n            <ul className=\"pagination \">\r\n              <li\r\n                onClick={(e) => {\r\n                  if (pagination === 1) return;\r\n                  else setPagination(pagination - 1);\r\n                }}\r\n                style={{ padding: \".5rem 1rem\" }}\r\n                className=\"page-item page-link cursor\"\r\n              >\r\n                Previous\r\n              </li>\r\n\r\n              {pages.map((p) =>\r\n                p === pagination ? (\r\n                  <li\r\n                    onClick={(e) => {\r\n                      setPagination(p);\r\n                    }}\r\n                    className=\"page-item page-link cursor\"\r\n                    style={{\r\n                      backgroundColor: \"#3f51b5\",\r\n                      color: \"#fff\",\r\n                      padding: \".5rem 1rem\",\r\n                    }}\r\n                    key={uuid()}\r\n                  >\r\n                    {p}\r\n                  </li>\r\n                ) : (\r\n                  <li\r\n                    onClick={(e) => {\r\n                      setPagination(p);\r\n                    }}\r\n                    className=\"page-item page-link cursor\"\r\n                    style={{ padding: \".5rem 1rem\" }}\r\n                    key={uuid()}\r\n                  >\r\n                    {p}\r\n                  </li>\r\n                )\r\n              )}\r\n\r\n              <li\r\n                onClick={(e) => {\r\n                  if (pagination === pages.length) return;\r\n                  else setPagination(pagination + 1);\r\n                }}\r\n                style={{ padding: \".5rem 1rem\" }}\r\n                className=\"page-item page-link cursor\"\r\n              >\r\n                Next\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  jwt: state.jwt,\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(FindPost);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport FindPost from \"../post/FindPost\";\r\nimport { API_URL } from \"./../config\";\r\nimport { CalcTime, uuid } from \"./../user/uuid\";\r\n\r\nfunction Home({ posts, ...props }) {\r\n  const [pages, setPages] = useState([]);\r\n  const [pagination, setPagination] = useState(1);\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n    const temp = Math.ceil(posts.length / 8);\r\n    const res = [];\r\n    for (let i = 1; i < temp + 1; i++) res.push(i);\r\n    setPages(res);\r\n    console.log(res);\r\n  }, [posts]);\r\n\r\n  const renderPost = () => (\r\n    <>\r\n      <div className=\"col-12 d-flex\">\r\n        <div class=\"card-columns\">\r\n          {posts.length !== 0 &&\r\n            posts.slice((pagination - 1) * 8, pagination * 8).map((p) => (\r\n              <div\r\n                key={uuid()}\r\n                //  className=\"col-sm-6 col-md-4 col-lg-3 mb-3\"\r\n              >\r\n                <div className=\"card\">\r\n                  <Link to={`/post/${p._id}`}>\r\n                    <div\r\n                      className=\"img-post\"\r\n                      style={{\r\n                        backgroundImage: `url(${API_URL}/post/photo/${p._id})`,\r\n                      }}\r\n                    ></div>\r\n                  </Link>\r\n                  <div className=\"card-body\">\r\n                    <h5 className=\"card-title\">\r\n                      {p.title.length > 50\r\n                        ? p.title.slice(0, 100) + \" ...more\"\r\n                        : p.title}\r\n                    </h5>\r\n\r\n                    <p className=\"card-text\">\r\n                      {p.body.length > 50\r\n                        ? p.body.slice(0, 100) + \" ...more\"\r\n                        : p.body}\r\n                    </p>\r\n                    <div className=\"post-footer py-2 d-flex justify-content-between\">\r\n                      <h6 className=\" small m-0 text-muted\">\r\n                        Posted by{\" \"}\r\n                        <Link to={`/profile/${p.postedBy._id}`}>\r\n                          {p.postedBy.name}\r\n                        </Link>\r\n                      </h6>\r\n                      <h6 className=\"small m-0 text-muted\">\r\n                        {CalcTime(p.createdAt)}\r\n                      </h6>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          {/* .col-sm-6.col-md-4.col-lg-3.mb-3 */}\r\n          <FindPost />\r\n          <div className=\"col-12\">\r\n            <h2 className=\"mb-4\">New Post</h2>\r\n          </div>\r\n          {renderPost()}\r\n        </div>\r\n        <div className=\"col-12 d-flex justify-content-center\">\r\n          <ul className=\"pagination \">\r\n            <li\r\n              onClick={(e) => {\r\n                if (pagination === 1) return;\r\n                else setPagination(pagination - 1);\r\n              }}\r\n              style={{ padding: \".5rem 1rem\" }}\r\n              className=\"page-item page-link cursor\"\r\n            >\r\n              Previous\r\n            </li>\r\n\r\n            {pages.map((p) =>\r\n              p === pagination ? (\r\n                <li\r\n                  onClick={(e) => {\r\n                    setPagination(p);\r\n                  }}\r\n                  className=\"page-item page-link cursor\"\r\n                  style={{\r\n                    backgroundColor: \"#3f51b5\",\r\n                    color: \"#fff\",\r\n                    padding: \".5rem 1rem\",\r\n                  }}\r\n                  key={uuid()}\r\n                >\r\n                  {p}\r\n                </li>\r\n              ) : (\r\n                <li\r\n                  onClick={(e) => {\r\n                    setPagination(p);\r\n                  }}\r\n                  className=\"page-item page-link cursor\"\r\n                  style={{ padding: \".5rem 1rem\" }}\r\n                  key={uuid()}\r\n                >\r\n                  {p}\r\n                </li>\r\n              )\r\n            )}\r\n\r\n            <li\r\n              onClick={(e) => {\r\n                if (pagination === pages.length) return;\r\n                else setPagination(pagination + 1);\r\n              }}\r\n              style={{ padding: \".5rem 1rem\" }}\r\n              className=\"page-item page-link cursor\"\r\n            >\r\n              Next\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <div className=\"col-12\" style={{ marginBottom: \"4rem\" }}></div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nconst mapstate = (state) => ({ posts: state.posts });\r\n\r\nexport default connect(mapstate, null)(Home);\r\n","import { API_URL } from \"../config\";\r\n\r\nexport const signinAPI = (email, password) => {\r\n  return fetch(`${API_URL}/user/signin`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  })\r\n    .then((res) => res.json())\r\n    .catch((e) => console.log(e));\r\n};\r\n\r\nexport const signupAPI = (formData) => {\r\n  return fetch(`${API_URL}/user/signup`, {\r\n    method: \"POST\",\r\n    body: formData,\r\n  })\r\n    .then((res) => res.json())\r\n    .catch((e) => console.log(e));\r\n};\r\n\r\nexport const getUsers = () =>\r\n  fetch(`${API_URL}/user/users`, { method: \"GET\" })\r\n    .then((res) => res.json())\r\n    .catch((e) => console.log(e));\r\n\r\nexport const getUser = (id) =>\r\n  fetch(`${API_URL}/user/${id}`, { method: \"GET\" })\r\n    .then((res) => res.json())\r\n    .catch((e) => console.log(e));\r\n\r\nexport const deleteUser = (id, token) =>\r\n  fetch(`${API_URL}/user/delete/${id}`, {\r\n    method: \"DELETE\",\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((res) => res.json())\r\n    .catch((e) => console.log(e));\r\n\r\nexport const updateUser = (id, token, form) =>\r\n  fetch(`${API_URL}/user/update/${id}`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: form,\r\n  })\r\n    .then((res) => res.json())\r\n    .catch((e) => console.log(e));\r\n\r\nexport const followUser = (userId, followId, token) =>\r\n  fetch(`${API_URL}/user/follow`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n      \"Content-type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ userId, followId }),\r\n  })\r\n    .then((res) => res.json())\r\n    .catch((e) => console.log(e));\r\n\r\nexport const unfollowUser = (userId, unfollowId, token) =>\r\n  fetch(`${API_URL}/user/unfollow`, {\r\n    method: \"DELETE\",\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n      \"Content-type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ userId, unfollowId }),\r\n  })\r\n    .then((res) => res.json())\r\n    .catch((e) => console.log(e));\r\n\r\nexport const getUserPosts = (id) =>\r\n  fetch(`${API_URL}/post/by/${id}`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((res) => res.json())\r\n    .catch((e) => console.log(e));\r\n\r\nexport const findUser = (find) =>\r\n  fetch(`${API_URL}/user/find`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ find }),\r\n  })\r\n    .then((res) => res.json())\r\n    .catch((e) => console.log(e));\r\n","import React, { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link, NavLink, withRouter } from \"react-router-dom\";\r\nimport {\r\n  GET_ALL_POST,\r\n  GET_ALL_USER,\r\n  GET_USER,\r\n} from \"../redux/actions/actionTypes\";\r\nimport { getUsers } from \"../user/apiUser\";\r\nimport { getPosts } from \"./../post/apiPost\";\r\n\r\nconst Menu = ({ jwt, dispatch, ...props }) => {\r\n  useEffect(() => {\r\n    // get users redux\r\n    getUsers()\r\n      .then((data) => {\r\n        dispatch({ type: GET_ALL_USER, payload: data });\r\n      })\r\n      .catch((e) => console.log(e));\r\n\r\n    // get posts redux\r\n    getPosts()\r\n      .then((data) => {\r\n        dispatch({ type: GET_ALL_POST, payload: data });\r\n      })\r\n      .catch((e) => console.log(e));\r\n\r\n    if (localStorage.getItem(\"jwt\")) {\r\n      dispatch({\r\n        type: GET_USER,\r\n        payload: JSON.parse(localStorage.getItem(\"jwt\")),\r\n      });\r\n    }\r\n  }, [props.match]);\r\n\r\n  return (\r\n    <nav className=\"nav nav-tabs bg-primary justify-content-start mb-5 pos-stick\">\r\n      <NavLink exact={true} className=\"nav-link p-3\" to=\"/\">\r\n        Home\r\n      </NavLink>\r\n      <NavLink className=\"nav-link p-3\" to=\"/users\">\r\n        users\r\n      </NavLink>\r\n      {!jwt.user._id ? (\r\n        <>\r\n          <NavLink className=\"nav-link p-3\" to=\"/signup\">\r\n            Sign up\r\n          </NavLink>\r\n          <NavLink className=\"nav-link p-3\" to=\"/signin\">\r\n            Sign in\r\n          </NavLink>\r\n        </>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      {jwt.user._id && (\r\n        <>\r\n          <NavLink to={`/post/create`} className=\"nav-link p-3\">\r\n            Create Post\r\n          </NavLink>\r\n          <NavLink to={`/profile/${jwt.user._id}`} className=\"nav-link p-3\">\r\n            Profile\r\n          </NavLink>\r\n          <Link\r\n            to=\"/\"\r\n            onClick={() => {\r\n              localStorage.removeItem(\"jwt\");\r\n              dispatch({ type: GET_USER, payload: { jwt: \"\", user: {} } });\r\n            }}\r\n            className=\"nav-link p-3 cursor\"\r\n          >\r\n            Sign out\r\n          </Link>\r\n        </>\r\n      )}\r\n    </nav>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({ jwt: state.jwt });\r\n\r\nexport default connect(mapStateToProps, null)(withRouter(Menu));\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { API_URL } from \"../config\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { CalcTime, uuid } from \"../user/uuid\";\r\nimport {\r\n  commentPost,\r\n  deletePost,\r\n  likePost,\r\n  uncommentPost,\r\n  unlikePost,\r\n} from \"../post/apiPost\";\r\nimport { getPosts } from \"../post/apiPost\";\r\nimport { GET_ALL_POST } from \"../redux/actions/actionTypes\";\r\n\r\nconst Post = ({ posts, match, ...props }) => {\r\n  const [post, setPost] = useState({});\r\n  const [requireSignin, setRequireSignin] = useState(false);\r\n  const [signinToComment, setSigninToComment] = useState(false);\r\n  const [text, setText] = useState(\"\");\r\n  const [showImg, setShowImg] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n    const id = match.params.postId;\r\n    if (posts.length !== 0) {\r\n      const currentPost = posts.find((p) => p._id === id);\r\n      console.log(currentPost);\r\n      setPost(currentPost);\r\n    }\r\n  }, [match.params, posts]);\r\n\r\n  const Loading = () => (\r\n    <div className=\"d-flex align-items-center loading h-100\">\r\n      <h4 className=\"text-center w-100\">Loading...</h4>\r\n    </div>\r\n  );\r\n\r\n  const imgPost = () => (\r\n    <div className=\"container-title cursor\">\r\n      {post._id ? (\r\n        <>\r\n          <img\r\n            src={`${API_URL}/post/photo/${post._id}`}\r\n            alt={post.name}\r\n            onClick={() => setShowImg(true)}\r\n          />\r\n        </>\r\n      ) : (\r\n        Loading()\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  const showFullImage = () =>\r\n    showImg && (\r\n      <>\r\n        <div className=\"contain-full-img\">\r\n          <div className=\"full-img\" style={{ position: \"relative\" }}>\r\n            <img\r\n              src={`${API_URL}/post/photo/${post._id}`}\r\n              alt={post.name}\r\n            ></img>\r\n            <i\r\n              className=\"fa fa-close close-img cursor\"\r\n              onClick={() => setShowImg(false)}\r\n            />\r\n          </div>\r\n          <div className=\"overlay\" onClick={() => setShowImg(false)}></div>\r\n        </div>\r\n      </>\r\n    );\r\n\r\n  const Like = () => {\r\n    if (props.jwt && !props.jwt.user._id) return setRequireSignin(true);\r\n    if (!post.likes.find((p) => p === props.jwt.user._id))\r\n      likePost(props.jwt.user._id, post._id, props.jwt.token)\r\n        .then((data) => {\r\n          if (data.error) return setError(data.error);\r\n          else return setPost(data);\r\n        })\r\n        .catch((e) => console.log(e));\r\n    else\r\n      unlikePost(props.jwt.user._id, post._id, props.jwt.token)\r\n        .then((data) => {\r\n          if (data.error) return setError(data.error);\r\n          else return setPost(data);\r\n        })\r\n        .catch((e) => console.log(e));\r\n  };\r\n\r\n  const Uncomment = (text) => {\r\n    uncommentPost(props.jwt.user._id, post._id, text, props.jwt.token)\r\n      .then((data) => {\r\n        if (data.error) return setError(data.error);\r\n        else return setPost(data);\r\n      })\r\n      .catch((e) => console.log(e));\r\n  };\r\n\r\n  const Submit = (e) => {\r\n    e.preventDefault();\r\n    if (props.jwt && !props.jwt.user._id) return setSigninToComment(true);\r\n\r\n    commentPost(props.jwt.user._id, post._id, text, props.jwt.token).then(\r\n      (data) => {\r\n        if (data.error) return setError(data.error);\r\n        else {\r\n          setText(\"\");\r\n          return setPost(data);\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  const formComment = () => (\r\n    <form onSubmit={Submit}>\r\n      <div className=\"form-group mt-3\">\r\n        <textarea\r\n          type=\"text\"\r\n          onChange={(e) => setText(e.target.value)}\r\n          value={text}\r\n          className=\"form-control\"\r\n          placeholder=\"Type here\"\r\n        />\r\n      </div>\r\n      <button type=\"submit\" className=\"btn btn-primary btn-raised\">\r\n        Submit\r\n      </button>\r\n    </form>\r\n  );\r\n\r\n  const redirectSigninLike = () =>\r\n    requireSignin && (\r\n      <div className=\"alert alert-warning p-2 mt-2\">\r\n        You haven't\r\n        <Link to=\"/signin\"> signin</Link>\r\n      </div>\r\n    );\r\n\r\n  const redirectSigninComment = () =>\r\n    signinToComment && (\r\n      <div className=\"alert alert-warning p-2 m-0\">\r\n        You haven't\r\n        <Link to=\"/signin\"> signin</Link>\r\n      </div>\r\n    );\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      {showFullImage()}\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <h3\r\n            className=\"display-3\"\r\n            style={{\r\n              wordBreak: \"break-word\",\r\n              lineHeight: 0.8,\r\n              marginBottom: \"1rem\",\r\n            }}\r\n          >\r\n            {post._id ? post.title : \"Loading...\"}\r\n          </h3>\r\n        </div>\r\n        <div className=\"col-12\">{imgPost()}</div>\r\n        <div className=\"col-12\">\r\n          <div className=\"like-post my-3\">\r\n            <span className=\"like\">\r\n              {post._id && post.likes.length}{\" \"}\r\n              <i\r\n                onClick={Like}\r\n                className=\"fa fa-thumbs-up cursor border-circle text-success bg-dark p-2\"\r\n              />\r\n            </span>\r\n            {redirectSigninLike()}\r\n          </div>\r\n          {error && (\r\n            <div className=\"alert alert-danger my-3 mb-0\">\r\n              {error}, try <Link to=\"/signin\">signin</Link> again\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"col-12\">\r\n          <div className=\"container-body bg-white p-3 \">\r\n            {post._id ? post.body : \"Loading...\"}\r\n          </div>\r\n        </div>\r\n        <div className=\"col-12\">\r\n          {post._id && (\r\n            <div className=\"container-postedBy mt-4\">\r\n              Posted by{\" \"}\r\n              <Link to={`/profile/${post.postedBy._id}`}>\r\n                {post.postedBy.name}\r\n              </Link>{\" \"}\r\n              on {CalcTime(post.createdAt)}\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"col-12\">\r\n          <div className=\"mt-3 d-flex button-container-post justify-content-between\">\r\n            <Link to=\"/\" className=\"btn btn-raised btn-primary\">\r\n              Back to posts\r\n            </Link>\r\n            {post._id && props.jwt && props.jwt.user._id === post.postedBy._id && (\r\n              <>\r\n                <Link\r\n                  className=\"btn btn-raised btn-warning\"\r\n                  to={`/post/update/${post._id}`}\r\n                >\r\n                  Update post\r\n                </Link>\r\n                <button\r\n                  className=\"btn btn-raised btn-danger\"\r\n                  onClick={() => {\r\n                    const confirm = window.confirm(\"Delete this post?\");\r\n                    if (confirm)\r\n                      deletePost(post._id, props.jwt.token).then((data) => {\r\n                        if (data.error) setError(data.error);\r\n                        else {\r\n                          getPosts()\r\n                            .then((data) => {\r\n                              props.dispatch({\r\n                                type: GET_ALL_POST,\r\n                                payload: data,\r\n                              });\r\n                            })\r\n                            .catch((e) => console.log(e));\r\n                          props.history.push(\"/\");\r\n                        }\r\n                      });\r\n                  }}\r\n                >\r\n                  Delete post\r\n                </button>{\" \"}\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"col-12\">\r\n          <h3 className=\"leave-comment\">Leave a comment</h3>\r\n          {redirectSigninComment()}\r\n        </div>\r\n        <div className=\"col-12\">\r\n          <div className=\"comment-post\">{formComment()}</div>\r\n        </div>\r\n        <div className=\"col-12\">\r\n          <ul className=\"list-group bmd-list-group-sm\">\r\n            {post.comments &&\r\n              post.comments.slice(0, 100).map((p) => (\r\n                <div className=\"list-group-item comment\" key={uuid()}>\r\n                  <div className=\"bmd-list-group-col\">\r\n                    <p className=\"list-group-item-heading\">{p.text}</p>\r\n                    <div className=\"list-group-item-text\">\r\n                      Posted by{\" \"}\r\n                      <Link to={`/profile/${p.user._id}`}>{p.user.name}</Link>{\" \"}\r\n                      {CalcTime(p.createdAt)}\r\n                      {props.jwt.user && props.jwt.user._id === p.user._id && (\r\n                        <span\r\n                          className=\"ml-3 cursor text-danger\"\r\n                          onClick={() => Uncomment(p.text)}\r\n                        >\r\n                          delete\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n          </ul>\r\n        </div>\r\n        <div className=\"col-12\" style={{ marginBottom: \"5rem\" }}>\r\n          {post.comments && post.comments.length > 100 && (\r\n            <div className=\"alert alert-danger\">Reach maximum 100 comments</div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  posts: state.posts,\r\n  jwt: state.jwt,\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(Post);\r\n","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { API_URL } from \"../config\";\r\nimport { findUser } from \"../user/apiUser\";\r\nimport { CalcTime, uuid } from \"../user/uuid\";\r\n\r\nconst FindUser = ({ jwt, users, ...props }) => {\r\n  const [find, setFind] = useState(\"\");\r\n  const [result, setResult] = useState([]);\r\n  const [pages, setPages] = useState([]);\r\n  const [pagination, setPagination] = useState(1);\r\n\r\n  const listUser = (pos) => {\r\n    const arr =\r\n      pos === \"left\"\r\n        ? result.slice((pagination - 1) * 10, (pagination - 1) * 10 + 5)\r\n        : result.slice((pagination - 1) * 10 + 5, (pagination - 1) * 10 + 10);\r\n\r\n    return (\r\n      <>\r\n        {arr.map((p) => (\r\n          <div\r\n            key={p._id}\r\n            className=\"list-group-item list-group-item-action flex-row d-flex align-items-start\"\r\n            style={{ flexFlow: \"nowrap\" }}\r\n          >\r\n            <div style={{ flexBasis: \"20%\", flexShrink: 0 }}>\r\n              <Link to={`/profile/${p._id}`} className=\"w-100\">\r\n                <div\r\n                  className=\"avatar-users\"\r\n                  style={{\r\n                    backgroundImage: `url(${API_URL}/user/photo/${p._id})`,\r\n                    backgroundPosition: \"center\",\r\n                    backgroundSize: \"cover\",\r\n                    width: \"100%\",\r\n                    paddingTop: \"100%\",\r\n                  }}\r\n                ></div>\r\n              </Link>\r\n            </div>\r\n            <div style={{ flexGrow: \"1\" }}>\r\n              <div className=\"d-flex w-100 justify-content-between align-items-center\">\r\n                <h5 className=\"mb-1 font-weight-bold text-primary\">\r\n                  <Link to={`/profile/${p._id}`}> {p.name}</Link>\r\n                </h5>\r\n                <small className=\"about-user\">\r\n                  <p className=\"small m-0\">\r\n                    join&nbsp;\r\n                    {CalcTime(p.createdAt)}\r\n                  </p>\r\n                </small>\r\n              </div>\r\n              <p>\r\n                {p.about ? (\r\n                  p.about.length > 200 ? (\r\n                    p.about.slice(0, 200) + \"...\"\r\n                  ) : (\r\n                    p.about\r\n                  )\r\n                ) : (\r\n                  <small className=\"font-italic font-weight-light\">\r\n                    Not found user's about\r\n                  </small>\r\n                )}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </>\r\n    );\r\n  };\r\n\r\n  const Submit = (e) => {\r\n    e.preventDefault();\r\n    if (!find.trim()) return setResult([]);\r\n    findUser(find)\r\n      .then((data) => {\r\n        setResult(data);\r\n        console.log(data);\r\n        let arr = [];\r\n        let sl = Math.ceil(data.length / 10);\r\n        for (let i = 1; i < sl + 1; i++) arr.push(i);\r\n        setPages(arr);\r\n      })\r\n      .catch((e) => console.log(e));\r\n  };\r\n  const Change = (e) => setFind(e.target.value);\r\n\r\n  const form = () => (\r\n    <>\r\n      <form onSubmit={Submit}>\r\n        <div className=\"input-group mb-3\">\r\n          <input\r\n            onChange={Change}\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"Name or email ...\"\r\n          />\r\n          <div className=\"input-group-append\">\r\n            <button className=\"btn btn-outline-secondary ml-3\" type=\"submit\">\r\n              Find user\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <div className=\"col-12\">\r\n        <div className=\"mb-4\">{form()}</div>\r\n      </div>\r\n\r\n      {result.length !== 0 && (\r\n        <>\r\n          <div className=\"col-12 col-md-6 pr-5-md\">\r\n            <div className=\"list-group\">{listUser(\"left\")}</div>\r\n          </div>\r\n          <div className=\"col-12 col-md-6 pl-5-md\">\r\n            <div className=\"list-group\">{listUser(\"right\")}</div>\r\n          </div>\r\n          <div className=\"col-12 d-flex justify-content-center\">\r\n            <ul className=\"pagination \">\r\n              <li\r\n                onClick={(e) => {\r\n                  if (pagination === 1) return;\r\n                  else setPagination(pagination - 1);\r\n                }}\r\n                style={{ padding: \".5rem 1rem\" }}\r\n                className=\"page-item page-link cursor\"\r\n              >\r\n                Previous\r\n              </li>\r\n\r\n              {pages.map((p) =>\r\n                p === pagination ? (\r\n                  <li\r\n                    onClick={(e) => {\r\n                      setPagination(p);\r\n                    }}\r\n                    className=\"page-item page-link cursor\"\r\n                    style={{\r\n                      backgroundColor: \"#3f51b5\",\r\n                      color: \"#fff\",\r\n                      padding: \".5rem 1rem\",\r\n                    }}\r\n                    key={uuid()}\r\n                  >\r\n                    {p}\r\n                  </li>\r\n                ) : (\r\n                  <li\r\n                    onClick={(e) => {\r\n                      setPagination(p);\r\n                    }}\r\n                    className=\"page-item page-link cursor\"\r\n                    style={{ padding: \".5rem 1rem\" }}\r\n                    key={uuid()}\r\n                  >\r\n                    {p}\r\n                  </li>\r\n                )\r\n              )}\r\n\r\n              <li\r\n                onClick={(e) => {\r\n                  if (pagination === pages.length) return;\r\n                  else setPagination(pagination + 1);\r\n                }}\r\n                style={{ padding: \".5rem 1rem\" }}\r\n                className=\"page-item page-link cursor\"\r\n              >\r\n                Next\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  users: state.users,\r\n  jwt: state.jwt,\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(FindUser);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { API_URL } from \"../config\";\r\nimport { CalcTime, uuid } from \"../user/uuid\";\r\nimport FindUser from \"./FindUser\";\r\n\r\nconst Users = ({ jwt, allusers, ...props }) => {\r\n  const [pages, setPages] = useState([]);\r\n  const [pagination, setPagination] = useState(1);\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n    let sl = 0;\r\n    let arr = [];\r\n    if (allusers) sl = Math.ceil(allusers.length / 10);\r\n    for (let i = 1; i < sl + 1; i++) arr.push(i);\r\n    setPages(arr);\r\n    console.log(allusers.length);\r\n  }, [allusers]);\r\n\r\n  const listUser = (pos) => {\r\n    const arr =\r\n      pos === \"left\"\r\n        ? allusers.slice((pagination - 1) * 10, (pagination - 1) * 10 + 5)\r\n        : allusers.slice((pagination - 1) * 10 + 5, (pagination - 1) * 10 + 10);\r\n\r\n    return (\r\n      <>\r\n        {allusers\r\n          ? arr.map((p) => (\r\n              <div\r\n                key={p._id}\r\n                className=\"list-group-item list-group-item-action flex-row d-flex align-items-start\"\r\n                style={{ flexFlow: \"nowrap\" }}\r\n              >\r\n                <div style={{ flexBasis: \"20%\", flexShrink: 0 }}>\r\n                  <Link to={`/profile/${p._id}`} className=\"w-100\">\r\n                    <div\r\n                      className=\"avatar-users\"\r\n                      style={{\r\n                        backgroundImage: `url(${API_URL}/user/photo/${p._id})`,\r\n                        backgroundPosition: \"center\",\r\n                        backgroundSize: \"cover\",\r\n                        width: \"100%\",\r\n                        paddingTop: \"100%\",\r\n                      }}\r\n                    ></div>\r\n                  </Link>\r\n                </div>\r\n                <div style={{ flexGrow: \"1\" }}>\r\n                  <div className=\"d-flex w-100 justify-content-between align-items-center\">\r\n                    <h5 className=\"mb-1 font-weight-bold text-primary\">\r\n                      <Link to={`/profile/${p._id}`}> {p.name}</Link>\r\n                    </h5>\r\n                    <small className=\"about-user\">\r\n                      <p className=\"small m-0\">\r\n                        joined&nbsp;\r\n                        {CalcTime(p.createdAt)}\r\n                      </p>\r\n                    </small>\r\n                  </div>\r\n                  <p>\r\n                    {p.about ? (\r\n                      p.about.length > 200 ? (\r\n                        p.about.slice(0, 200) + \"...\"\r\n                      ) : (\r\n                        p.about\r\n                      )\r\n                    ) : (\r\n                      <small className=\"font-italic font-weight-light\">\r\n                        Not found user's about\r\n                      </small>\r\n                    )}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            ))\r\n          : \"\"}\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row\">\r\n        <FindUser />\r\n        <div className=\"col-12 mb-3\">\r\n          <h2>All Users</h2>\r\n        </div>\r\n        <div className=\"col-12 col-md-6 pr-5-md\">\r\n          <div className=\"list-group\">{listUser(\"left\")}</div>\r\n        </div>\r\n        <div className=\"col-12 col-md-6 pl-5-md\">\r\n          <div className=\"list-group\">{listUser(\"right\")}</div>\r\n        </div>\r\n        <div className=\"col-12 d-flex justify-content-center\">\r\n          <ul className=\"pagination \">\r\n            <li\r\n              onClick={(e) => {\r\n                if (pagination === 1) return;\r\n                else setPagination(pagination - 1);\r\n              }}\r\n              style={{ padding: \".5rem 1rem\" }}\r\n              className=\"page-item page-link cursor\"\r\n            >\r\n              Previous\r\n            </li>\r\n\r\n            {pages.map((p) =>\r\n              p === pagination ? (\r\n                <li\r\n                  onClick={(e) => {\r\n                    setPagination(p);\r\n                  }}\r\n                  className=\"page-item page-link cursor\"\r\n                  style={{\r\n                    backgroundColor: \"#3f51b5\",\r\n                    color: \"#fff\",\r\n                    padding: \".5rem 1rem\",\r\n                  }}\r\n                  key={uuid()}\r\n                >\r\n                  {p}\r\n                </li>\r\n              ) : (\r\n                <li\r\n                  onClick={(e) => {\r\n                    setPagination(p);\r\n                  }}\r\n                  className=\"page-item page-link cursor\"\r\n                  style={{ padding: \".5rem 1rem\" }}\r\n                  key={uuid()}\r\n                >\r\n                  {p}\r\n                </li>\r\n              )\r\n            )}\r\n\r\n            <li\r\n              onClick={(e) => {\r\n                if (pagination === pages.length) return;\r\n                else setPagination(pagination + 1);\r\n              }}\r\n              style={{ padding: \".5rem 1rem\" }}\r\n              className=\"page-item page-link cursor\"\r\n            >\r\n              Next\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <div className=\"col-12\" style={{ marginBottom: \"4rem\" }}></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  allusers: state.users,\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(Users);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { postPost } from \"./apiPost\";\r\n\r\nconst CreatePost = ({ jwt, ...props }) => {\r\n  const initvalue = {\r\n    title: \"\",\r\n    body: \"\",\r\n    photo: \"\",\r\n    error: \"\",\r\n    success: false,\r\n    formData: \"\",\r\n    loading: false,\r\n  };\r\n  const [values, setValue] = useState(initvalue);\r\n  const [formData, setformData] = useState(null);\r\n  const { title, body, success, error, loading } = values;\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n    setformData(new FormData());\r\n  }, []);\r\n\r\n  const Change = (e) => {\r\n    const name = e.target.name;\r\n    const value = name === \"photo\" ? e.target.files[0] : e.target.value;\r\n    formData.set(name, value);\r\n    setValue({ ...values, [name]: value });\r\n  };\r\n  const Submit = (e) => {\r\n    e.preventDefault();\r\n    formData.set(\"postedBy\", jwt.user._id);\r\n    setValue({ ...values, loading: true });\r\n    postPost(formData, jwt.token)\r\n      .then((data) => {\r\n        console.log(data);\r\n        if (data.error)\r\n          return setValue({ ...values, loading: false, error: data.error });\r\n        return setValue({ ...initvalue, success: true });\r\n      })\r\n      .catch((e) => console.log(e));\r\n  };\r\n\r\n  const Error = () => {\r\n    if (error)\r\n      return error === \"jwt expired\" ? (\r\n        <>\r\n          {\r\n            <div className=\"alert alert-danger\">\r\n              {error}, try <Link to=\"/signin\">signin</Link> again\r\n            </div>\r\n          }\r\n        </>\r\n      ) : (\r\n        <div className=\"alert alert-danger\">{error}</div>\r\n      );\r\n  };\r\n  const Success = () => (\r\n    <>{success && <div className=\"alert alert-success\">Post created</div>} </>\r\n  );\r\n  const Loading = () => (\r\n    <>{loading ? <h2 className=\"lead bg-light p-5\">Loading...</h2> : \"\"} </>\r\n  );\r\n\r\n  const form = () => (\r\n    <>\r\n      <form onSubmit={Submit}>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"\" className=\"text-muted\">\r\n            Photo\r\n          </label>\r\n          <input\r\n            type=\"file\"\r\n            name=\"photo\"\r\n            className=\"form-control-file\"\r\n            onChange={Change}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"\" className=\"text-muted\">\r\n            Title\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"title\"\r\n            className=\"form-control\"\r\n            onChange={Change}\r\n            value={title}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"\" className=\"text-muted\">\r\n            Body\r\n          </label>\r\n          <textarea\r\n            rows=\"8\"\r\n            name=\"body\"\r\n            className=\"form-control\"\r\n            onChange={Change}\r\n            value={body}\r\n          />\r\n        </div>\r\n        <button type=\"submit\" className=\"btn btn-raised btn-primary\">\r\n          Submit\r\n        </button>\r\n      </form>\r\n    </>\r\n  );\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <h2 className=\"mb-5\">New Post</h2>\r\n        </div>\r\n        <div className=\"col-12\">\r\n          {Error()}\r\n          {Success()}\r\n          {Loading()}\r\n          {form()}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  jwt: state.jwt,\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(CreatePost);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { GET_USER } from \"../redux/actions/actionTypes\";\r\nimport { updateUser } from \"./apiUser\";\r\n\r\nconst EditProfile = ({ jwt, ...props }) => {\r\n  const init = {\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    error: \"\",\r\n    photo: \"\",\r\n    about: \"\",\r\n    success: false,\r\n  };\r\n\r\n  const [formSubmit, setFormSubmit] = useState(new FormData());\r\n  const [value, setValue] = useState(init);\r\n  const { email, password, error, success, name, about } = value;\r\n  const { user, token } = jwt;\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n    setValue({ ...value, name: jwt.user.name, about: jwt.user.about });\r\n    formSubmit.set(\"name\", jwt.user.name);\r\n    formSubmit.set(\"about\", jwt.user.about);\r\n  }, [jwt]);\r\n\r\n  const Change = (e) => {\r\n    const name = e.target.name;\r\n    const value = name === \"photo\" ? e.target.files[0] : e.target.value;\r\n    formSubmit.set(name, value);\r\n    setValue({ ...value, [name]: value });\r\n  };\r\n\r\n  const Submit = (e) => {\r\n    console.log(props.location);\r\n    e.preventDefault();\r\n\r\n    updateUser(user._id, token, formSubmit)\r\n      .then((data) => {\r\n        if (data.error) setValue({ ...value, error: data.error });\r\n        else {\r\n          localStorage.setItem(\"jwt\", JSON.stringify(data));\r\n          props.dispatch({ type: GET_USER, payload: data });\r\n          setValue({ ...init, success: true });\r\n        }\r\n      })\r\n      .catch((e) => console.log(e));\r\n  };\r\n\r\n  const showError = () => {\r\n    if (error)\r\n      return error === \"jwt expired\" ? (\r\n        <>\r\n          {\r\n            <div className=\"alert alert-danger\">\r\n              {error},try <Link to=\"/signin\">signin</Link> again\r\n            </div>\r\n          }\r\n        </>\r\n      ) : (\r\n        <> {error ? <div className=\"alert alert-danger\">{error}</div> : \"\"} </>\r\n      );\r\n  };\r\n\r\n  const showSuccess = () => (\r\n    <>\r\n      {success ? (\r\n        <>\r\n          <Redirect to={`/profile/${user._id}`} />\r\n        </>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </>\r\n  );\r\n\r\n  const form = () => (\r\n    <form onSubmit={Submit}>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"\" className=\"text-muted\">\r\n          Avatar\r\n        </label>\r\n        <input\r\n          type=\"file\"\r\n          name=\"photo\"\r\n          onChange={Change}\r\n          className=\"form-control-file\"\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"\" className=\"text-muted\">\r\n          Name\r\n        </label>\r\n        <input\r\n          type=\"name\"\r\n          name=\"name\"\r\n          className=\"form-control\"\r\n          value={name}\r\n          onChange={Change}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"\" className=\"text-muted\">\r\n          Email\r\n        </label>\r\n        <input\r\n          type=\"email\"\r\n          name=\"email\"\r\n          className=\"form-control\"\r\n          value={email}\r\n          onChange={Change}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"\" className=\"text-muted\">\r\n          Password\r\n        </label>\r\n        <input\r\n          type=\"password\"\r\n          name=\"password\"\r\n          className=\"form-control\"\r\n          value={password}\r\n          onChange={Change}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"\" className=\"text-muted\">\r\n          About yourself\r\n        </label>\r\n        <textarea\r\n          rows=\"7\"\r\n          name=\"about\"\r\n          className=\"form-control\"\r\n          value={about}\r\n          onChange={Change}\r\n        />\r\n      </div>\r\n      <button type=\"submit\" className=\"btn btn-raised btn-primary\">\r\n        Submit\r\n      </button>\r\n    </form>\r\n  );\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <h3 className=\"mb-5\">Edit Profile</h3>\r\n\r\n          {showError()}\r\n          {showSuccess()}\r\n          {form()}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  jwt: state.jwt,\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(EditProfile);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { API_URL } from \"../config\";\r\nimport { followUser, getUser, getUserPosts, unfollowUser } from \"./apiUser\";\r\nimport { deleteUser } from \"../user/apiUser\";\r\nimport { GET_USER } from \"./../redux/actions/actionTypes\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { CalcTime, uuid } from \"./uuid\";\r\n\r\nconst Profile = ({ match, jwt, ...props }) => {\r\n  // const [userFetch, setUserFetch] = useState();\r\n  const [user, setUser] = useState({});\r\n  const [isOne, setIsOne] = useState(false);\r\n  const [follow, setFollow] = useState(undefined);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [userPosts, setUserPosts] = useState([]);\r\n\r\n  useEffect(() => window.scrollTo(0, 0), []);\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n    // get user hiện tại thông qua match.params\r\n    getUser(match.params.userId)\r\n      .then((data) => {\r\n        if (data.error) return setError(data.error);\r\n        if (data._id == jwt.user._id) {\r\n          setIsOne(true);\r\n          setUser(jwt.user);\r\n          setFollow(\r\n            jwt.user.following.find((p) => p._id === jwt.user._id)\r\n              ? true\r\n              : false\r\n          );\r\n        } else {\r\n          setIsOne(false);\r\n          setUser(data);\r\n          if (jwt.user.following)\r\n            setFollow(\r\n              jwt.user.following.find((p) => p._id === data._id) ? true : false\r\n            );\r\n          else setFollow(false);\r\n        }\r\n      })\r\n      .catch((e) => console.log(e));\r\n\r\n    // get listPost\r\n    getUserPosts(match.params.userId)\r\n      .then((data) => {\r\n        if (!data.error) setUserPosts(data);\r\n      })\r\n      .catch((e) => console.log(e));\r\n  }, [match, jwt]);\r\n\r\n  const deleteAcc = () => {\r\n    const confirm = window.confirm(\"Do you want to delete account?\");\r\n    if (confirm) {\r\n      deleteUser(user._id, jwt.token)\r\n        .then((data) => {\r\n          if (data.error) {\r\n            return setError(data.error);\r\n          } else {\r\n            props.dispatch({\r\n              type: GET_USER,\r\n              payload: { token: \"\", user: {} },\r\n            });\r\n            localStorage.removeItem(\"jwt\");\r\n            props.history.push(\"/\");\r\n          }\r\n        })\r\n        .catch((e) => console.log(e));\r\n    }\r\n  };\r\n\r\n  const Follow = () => {\r\n    setLoading(true);\r\n    followUser(jwt.user._id, user._id, jwt.token).then((data) => {\r\n      if (data.error) return setError(data.error);\r\n      getUser(jwt.user._id).then((data) => {\r\n        localStorage.setItem(\r\n          \"jwt\",\r\n          JSON.stringify({\r\n            token: jwt.token,\r\n            user: data,\r\n          })\r\n        );\r\n        props.dispatch({\r\n          type: GET_USER,\r\n          payload: {\r\n            token: jwt.token,\r\n            user: data,\r\n          },\r\n        });\r\n        setLoading(false);\r\n      });\r\n    });\r\n  };\r\n  const Unfollow = () => {\r\n    setLoading(true);\r\n    unfollowUser(jwt.user._id, user._id, jwt.token).then((data) => {\r\n      if (data.error) return setError(data.error);\r\n      getUser(jwt.user._id).then((data) => {\r\n        if (data.err) return;\r\n        localStorage.setItem(\r\n          \"jwt\",\r\n          JSON.stringify({\r\n            token: jwt.token,\r\n            user: data,\r\n          })\r\n        );\r\n        props.dispatch({\r\n          type: GET_USER,\r\n          payload: {\r\n            token: jwt.token,\r\n            user: data,\r\n          },\r\n        });\r\n\r\n        setLoading(false);\r\n      });\r\n    });\r\n  };\r\n\r\n  const Avatar = () => (\r\n    <div className=\"col-md-4 col-12\">\r\n      <div className=\"avatar-profile\">\r\n        {user._id ? (\r\n          <img\r\n            className=\"img-thumbnail\"\r\n            src={`${API_URL}/user/photo/${user._id}`}\r\n            alt=\"\"\r\n          />\r\n        ) : (\r\n          \"Loading...\"\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n  const Info = () => (\r\n    <div className=\"col-md-8 col-12\">\r\n      <div className=\"profile-info\">\r\n        Name:{\" \"}\r\n        {user.name ? (\r\n          <span className=\"name-profile\">{user.name}</span>\r\n        ) : (\r\n          \"Loading...\"\r\n        )}\r\n      </div>\r\n      <div className=\"profile-info\">\r\n        Email:{\" \"}\r\n        {user.email ? (\r\n          <span className=\"email-profile\">{user.email}</span>\r\n        ) : (\r\n          \"Loading...\"\r\n        )}\r\n      </div>\r\n      <div className=\"profile-info\">\r\n        Joined at:{\" \"}\r\n        <span className=\"joined-profile\">\r\n          {new Date(user.createdAt).toLocaleString()}\r\n        </span>\r\n      </div>\r\n      <div className=\"profile-info\">\r\n        About:{\" \"}\r\n        {user.about ? (\r\n          <div className=\"span about-profile card-text\">{user.about}</div>\r\n        ) : (\r\n          <span className=\"not-found  \">Not found user's about</span>\r\n        )}\r\n      </div>\r\n      {isOne ? (\r\n        <div className=\"d-flex justify-content-between button-container\">\r\n          <Link className=\"btn btn-raised btn-info\" to={`/post/create`}>\r\n            Create Post\r\n          </Link>\r\n\r\n          {user._id && (\r\n            <Link\r\n              className=\"btn btn-raised btn-success\"\r\n              to={`/edit/${user._id}`}\r\n            >\r\n              Edit Profile\r\n            </Link>\r\n          )}\r\n\r\n          <button className=\"btn btn-raised btn-danger\" onClick={deleteAcc}>\r\n            Delete Profile\r\n          </button>\r\n        </div>\r\n      ) : (\r\n        jwt.user._id && (\r\n          <div className=\"d-flex\">\r\n            {follow !== undefined ? (\r\n              follow ? (\r\n                <>\r\n                  <button\r\n                    className=\"btn btn-raised btn-danger\"\r\n                    onClick={Unfollow}\r\n                  >\r\n                    {loading ? \"...\" : \"UnFollow\"}\r\n                  </button>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <button\r\n                    className=\"btn btn-raised btn-primary\"\r\n                    onClick={Follow}\r\n                  >\r\n                    {loading ? \"...\" : \"Follow\"}\r\n                  </button>\r\n                </>\r\n              )\r\n            ) : (\r\n              \"waiting...\"\r\n            )}\r\n          </div>\r\n        )\r\n      )}\r\n    </div>\r\n  );\r\n  const Action = () => (\r\n    <div className=\"col-12 mt-5\">\r\n      <hr className=\"m-0\" />\r\n      <ul className=\"row nav nav-tabs nav-justified\">\r\n        <div className=\"col-12 col-md-4 \">\r\n          <li className=\"nav-item \">\r\n            <a className=\"nav-link cursor info-title-user\">\r\n              Post &nbsp;\r\n              <span className=\"text-dark\">\r\n                ({userPosts && userPosts.length})\r\n              </span>\r\n            </a>\r\n            <ul className=\"list-group box-navigator\">\r\n              {userPosts.length > 0 &&\r\n                userPosts.slice(0, 50).map((p) => (\r\n                  <li key={uuid()} className=\" d-flex \">\r\n                    <div className=\"contain-litle-avatar contain-litle-post\">\r\n                      <Link\r\n                        to={`/post/${p._id}`}\r\n                        className=\"content-litle-avatar container-little-post\"\r\n                        style={{\r\n                          backgroundImage: `url(${API_URL}/post/photo/${p._id})`,\r\n                        }}\r\n                      />\r\n                    </div>\r\n                    <span className=\"name-after-avatar name-after-post\">\r\n                      <Link to={`/post/${p._id}`}>{p.title}</Link>\r\n                      <div className=\"created-post text-muted\">\r\n                        Created {CalcTime(p.createdAt)}\r\n                      </div>\r\n                    </span>\r\n                  </li>\r\n                ))}\r\n              {userPosts && userPosts.length > 50 && (\r\n                <div className=\"alert alert-warning\">\r\n                  Reach maximum 50 posts\r\n                </div>\r\n              )}\r\n            </ul>\r\n          </li>\r\n        </div>\r\n        <div className=\"col-12 col-md-4 \">\r\n          <li className=\"nav-item \">\r\n            <a className=\"nav-link cursor info-title-user \">\r\n              Following &nbsp;\r\n              <span className=\"text-dark\">\r\n                ({user.following && user.following.length})\r\n              </span>\r\n            </a>\r\n            <ul className=\"list-group box-navigator\">\r\n              {user.following &&\r\n                user.following.slice(0, 50).map((p) => (\r\n                  <li key={uuid()} className=\" d-flex align-items-center\">\r\n                    <div className=\"contain-litle-avatar\">\r\n                      <Link\r\n                        to={`/profile/${p._id}`}\r\n                        className=\"content-litle-avatar\"\r\n                        style={{\r\n                          backgroundImage: `url(${API_URL}/user/photo/${p._id})`,\r\n                        }}\r\n                      />\r\n                    </div>\r\n                    <span className=\"name-after-avatar\">\r\n                      <Link to={`/profile/${p._id}`}>{p.name}</Link>\r\n                    </span>\r\n                  </li>\r\n                ))}\r\n              {user.following && user.following.length > 50 && (\r\n                <div className=\"alert alert-warning\">\r\n                  Reach maximum 50 following\r\n                </div>\r\n              )}\r\n            </ul>\r\n          </li>\r\n        </div>\r\n        <div className=\"col-12 col-md-4 \">\r\n          <li className=\"nav-item \">\r\n            <a className=\"nav-link cursor info-title-user \">\r\n              Followers &nbsp;\r\n              <span className=\"text-dark\">\r\n                ({user.followers && user.followers.length})\r\n              </span>\r\n            </a>\r\n            <ul className=\"list-group box-navigator\">\r\n              {user.followers &&\r\n                user.followers.slice(0, 50).map((p) => (\r\n                  <li key={uuid()} className=\" d-flex align-items-center\">\r\n                    <div className=\"contain-litle-avatar\">\r\n                      <Link\r\n                        to={`/profile/${p._id}`}\r\n                        className=\"content-litle-avatar\"\r\n                        style={{\r\n                          backgroundImage: `url(${API_URL}/user/photo/${p._id})`,\r\n                        }}\r\n                      />\r\n                    </div>\r\n                    <span className=\"name-after-avatar\">\r\n                      <Link to={`/profile/${p._id}`}>{p.name}</Link>\r\n                    </span>\r\n                  </li>\r\n                ))}\r\n              {user.followers && user.followers.length > 50 && (\r\n                <div className=\"alert alert-warning\">\r\n                  Reach maximum 50 followers\r\n                </div>\r\n              )}\r\n            </ul>\r\n          </li>\r\n        </div>\r\n      </ul>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row\">\r\n        <div className=\"col-12 mb-3\">\r\n          <h2>Profile</h2>\r\n        </div>\r\n        {error ? (\r\n          error === \"jwt expired\" ? (\r\n            <div className=\"col-12\">\r\n              <div className=\"alert alert-danger\">\r\n                {error}, try <Link to=\"/login\">login</Link> again\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"col-12\">\r\n              <div className=\"alert alert-danger\">{error}</div>\r\n            </div>\r\n          )\r\n        ) : (\r\n          <>\r\n            {Avatar()}\r\n            {Info()}\r\n            {Action()}\r\n          </>\r\n        )}\r\n        <div className=\"col-12\" style={{ marginBottom: \"4rem\" }}></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  jwt: state.jwt,\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(Profile);\r\n","import React, { useState } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { signinAPI } from \"./apiUser\";\r\nimport { connect } from \"react-redux\";\r\nimport { GET_USER } from \"./../redux/actions/actionTypes\";\r\n\r\nconst Signin = ({ location, ...props }) => {\r\n  const init = {\r\n    email: \"\",\r\n    password: \"\",\r\n    error: \"\",\r\n    success: false,\r\n    loading: false,\r\n  };\r\n  const [value, setValue] = useState(init);\r\n  const { email, password, loading, error, success } = value;\r\n\r\n  const Change = (e) => {\r\n    setValue({ ...value, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const Submit = (e) => {\r\n    e.preventDefault();\r\n    setValue({ ...value, loading: true });\r\n    signinAPI(email, password)\r\n      .then((data) => {\r\n        if (data.error)\r\n          setValue({ ...value, loading: false, error: data.error });\r\n        else {\r\n          setValue({ ...init, success: true });\r\n          props.dispatch({ type: GET_USER, payload: data });\r\n          localStorage.setItem(\"jwt\", JSON.stringify(data));\r\n        }\r\n      })\r\n      .catch((e) => console.log(e));\r\n  };\r\n\r\n  const showError = () => (\r\n    <> {error ? <div className=\"alert alert-danger\">{error}</div> : \"\"} </>\r\n  );\r\n  const showSuccess = () => (\r\n    <>\r\n      {success ? (\r\n        <Redirect to={location.state ? location.state.prev : \"/\"} />\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </>\r\n  );\r\n  const Loading = () => (\r\n    <>{loading ? <h2 className=\"lead bg-light p-5\">Loading...</h2> : \"\"} </>\r\n  );\r\n  const form = () => (\r\n    <form onSubmit={Submit}>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"\" className=\"text-muted\">\r\n          Email\r\n        </label>\r\n        <input\r\n          type=\"email\"\r\n          name=\"email\"\r\n          className=\"form-control\"\r\n          value={email}\r\n          onChange={Change}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"\" className=\"text-muted\">\r\n          Password\r\n        </label>\r\n        <input\r\n          type=\"password\"\r\n          name=\"password\"\r\n          className=\"form-control\"\r\n          value={password}\r\n          onChange={Change}\r\n        />\r\n      </div>\r\n      <button type=\"submit\" className=\"btn btn-raised btn-primary\">\r\n        Submit\r\n      </button>\r\n    </form>\r\n  );\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <h3 className=\"mb-5\">Sign In</h3>\r\n          {Loading()}\r\n          {showError()}\r\n          {showSuccess()}\r\n          {form()}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapstate = (state) => ({ jwt: state.jwt });\r\n\r\nexport default connect(mapstate, null)(Signin);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { signupAPI } from \"./apiUser\";\r\nimport \"../App.css\";\r\nimport { GET_ALL_USER } from \"../redux/actions/actionTypes\";\r\n\r\nconst Signup = ({ users, ...props }) => {\r\n  const init = {\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    error: \"\",\r\n    photo: \"\",\r\n    about: \"\",\r\n    success: false,\r\n    loading: false,\r\n  };\r\n\r\n  const [values, setValue] = useState(init);\r\n  let { email, password, loading, error, success, name, about } = values;\r\n\r\n  const [formSubmit, setformSubmit] = useState(null);\r\n  useEffect(() => setformSubmit(new FormData()), []);\r\n\r\n  const Change = (e) => {\r\n    const name = e.target.name;\r\n    const value = name === \"photo\" ? e.target.files[0] : e.target.value;\r\n    formSubmit.set(name, value);\r\n    setValue({ ...values, [name]: value });\r\n    console.log(values);\r\n  };\r\n\r\n  const Submit = (e) => {\r\n    e.preventDefault();\r\n    console.log(values);\r\n    setValue({ ...values, loading: true });\r\n    signupAPI(formSubmit)\r\n      .then((data) => {\r\n        console.log(data);\r\n        if (data.error)\r\n          setValue({ ...values, loading: false, error: data.error });\r\n        else {\r\n          props.dispatch({ type: GET_ALL_USER, payload: [...users, data] });\r\n          setValue({ ...init, success: true });\r\n        }\r\n      })\r\n      .catch((e) => console.log(e));\r\n  };\r\n\r\n  const showError = () => (\r\n    <> {error ? <div className=\"alert alert-danger\">{error}</div> : \"\"} </>\r\n  );\r\n  const showSuccess = () => (\r\n    <>\r\n      {success ? (\r\n        <>\r\n          <div className=\"card toSignin\">\r\n            <h5 className=\"card-header\">New account</h5>\r\n            <div className=\"card-body\">\r\n              <p className=\"card-text\">Sign up success, new account created</p>\r\n              <Link to=\"/signin\" className=\"btn btn-success btn-raised \">\r\n                Sign in\r\n              </Link>\r\n            </div>\r\n          </div>\r\n          <div className=\"overlay-signup\"></div>\r\n        </>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </>\r\n  );\r\n  const Loading = () => (\r\n    <>{loading ? <h2 className=\"lead bg-light p-5\">Loading...</h2> : \"\"} </>\r\n  );\r\n\r\n  const form = () => (\r\n    <form onSubmit={Submit}>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"\" className=\"text-muted\">\r\n          Avatar\r\n        </label>\r\n        <input\r\n          type=\"file\"\r\n          name=\"photo\"\r\n          onChange={Change}\r\n          className=\"form-control-file\"\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"\" className=\"text-muted\">\r\n          Name\r\n        </label>\r\n        <input\r\n          type=\"name\"\r\n          name=\"name\"\r\n          className=\"form-control\"\r\n          value={name}\r\n          onChange={Change}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"\" className=\"text-muted\">\r\n          Email\r\n        </label>\r\n        <input\r\n          type=\"email\"\r\n          name=\"email\"\r\n          className=\"form-control\"\r\n          value={email}\r\n          onChange={Change}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"\" className=\"text-muted\">\r\n          Password\r\n        </label>\r\n        <input\r\n          type=\"password\"\r\n          name=\"password\"\r\n          className=\"form-control\"\r\n          value={password}\r\n          onChange={Change}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"\" className=\"text-muted\">\r\n          About yourself\r\n        </label>\r\n        <textarea\r\n          rows=\"10\"\r\n          name=\"about\"\r\n          className=\"form-control\"\r\n          value={about}\r\n          onChange={Change}\r\n        />\r\n      </div>\r\n      <button type=\"submit\" className=\"btn btn-raised btn-primary\">\r\n        Submit\r\n      </button>\r\n    </form>\r\n  );\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <h3 className=\"mb-5\">{\"Sign Up\"}</h3>\r\n          {Loading()}\r\n          {showError()}\r\n          {showSuccess()}\r\n          {form()}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  users: state.users,\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(Signup);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { updatePost } from \"./apiPost\";\r\n\r\nconst UpdatePost = ({ jwt, ...props }) => {\r\n  const initvalue = {\r\n    title: \"\",\r\n    body: \"\",\r\n    photo: \"\",\r\n    error: \"\",\r\n    success: false,\r\n    formData: \"\",\r\n    loading: false,\r\n  };\r\n  const [values, setValue] = useState(initvalue);\r\n  const [formData, setformData] = useState(new FormData());\r\n  const { title, body, success, error, loading } = values;\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n    const currentPost = props.posts.find(\r\n      (p) => p._id === props.match.params.postId\r\n    );\r\n    setValue({ ...values, ...currentPost });\r\n    for (let i in currentPost) {\r\n      formData.set(i, currentPost[i]);\r\n    }\r\n  }, [jwt, props.posts]);\r\n\r\n  const Change = (e) => {\r\n    const name = e.target.name;\r\n    const value = name === \"photo\" ? e.target.files[0] : e.target.value;\r\n    formData.set(name, value);\r\n    setValue({ ...values, [name]: value });\r\n  };\r\n\r\n  const Submit = (e) => {\r\n    e.preventDefault();\r\n    formData.set(\"postedBy\", jwt.user._id);\r\n    setValue({ ...values, loading: true });\r\n    updatePost(formData, props.match.params.postId, jwt.token)\r\n      .then((data) => {\r\n        console.log(data);\r\n        if (data.error)\r\n          return setValue({ ...values, loading: false, error: data.error });\r\n        return setValue({ ...initvalue, success: true });\r\n      })\r\n      .catch((e) => console.log(e));\r\n  };\r\n\r\n  const Error = () => {\r\n    if (error)\r\n      return error === \"jwt expired\" ? (\r\n        <>\r\n          {error && (\r\n            <div className=\"alert alert-danger\">\r\n              {error}, try <Link to=\"/signin\">signin</Link> again\r\n            </div>\r\n          )}{\" \"}\r\n        </>\r\n      ) : (\r\n        <>{error && <div className=\"alert alert-danger\">{error}</div>} </>\r\n      );\r\n  };\r\n  const Success = () => (\r\n    <>{success && <div className=\"alert alert-success\">Post updated</div>} </>\r\n  );\r\n  const Loading = () => (\r\n    <>{loading ? <h2 className=\"lead bg-light p-5\">Loading...</h2> : \"\"} </>\r\n  );\r\n\r\n  const form = () => (\r\n    <>\r\n      <form onSubmit={Submit}>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"\" className=\"text-muted\">\r\n            Photo\r\n          </label>\r\n          <input\r\n            type=\"file\"\r\n            name=\"photo\"\r\n            className=\"form-control-file\"\r\n            onChange={Change}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"\" className=\"text-muted\">\r\n            Title\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"title\"\r\n            className=\"form-control\"\r\n            onChange={Change}\r\n            value={title}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"\" className=\"text-muted\">\r\n            Body\r\n          </label>\r\n          <textarea\r\n            style={{ whiteSpace: \"pre-line\" }}\r\n            name=\"body\"\r\n            className=\"form-control\"\r\n            onChange={Change}\r\n            value={body}\r\n          />\r\n        </div>\r\n        <button type=\"submit\" className=\"btn btn-raised btn-primary\">\r\n          Submit\r\n        </button>\r\n      </form>\r\n    </>\r\n  );\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <h2 className=\"mb-5\">Update Post</h2>\r\n        </div>\r\n        <div className=\"col-12\">\r\n          {Error()}\r\n          {Success()}\r\n          {Loading()}\r\n          {form()}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  jwt: state.jwt,\r\n  posts: state.posts,\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(withRouter(UpdatePost));\r\n","import React from \"react\";\nimport { Switch, Route, BrowserRouter } from \"react-router-dom\";\nimport PrivateRoute from \"./auth/PrivateRoute\";\nimport Home from \"./core/Home\";\nimport Menu from \"./core/Menu\";\nimport Post from \"./core/Post\";\nimport Users from \"./core/Users\";\nimport CreatePost from \"./post/CreatePost\";\nimport EditProfile from \"./user/EditProfile\";\nimport Profile from \"./user/Profile\";\nimport Signin from \"./user/Signin\";\nimport Signup from \"./user/Signup\";\nimport UpdatePost from \"./post/UpdatePost\";\n\nfunction Routes() {\n  return (\n    <BrowserRouter>\n      <div>\n        <Menu />\n        <Switch>\n          <Route path=\"/\" exact component={Home} />\n          <Route path=\"/profile/:userId\" component={Profile} />\n          <Route path=\"/signup\" component={Signup} />\n          <Route path=\"/signin\" component={Signin} />\n          <Route path=\"/users\" component={Users} />\n          <PrivateRoute path=\"/edit/:userId\">\n            <EditProfile />\n          </PrivateRoute>\n          <PrivateRoute path=\"/post/create\">\n            <CreatePost />\n          </PrivateRoute>\n          <PrivateRoute path=\"/post/update/:postId\">\n            <UpdatePost />\n          </PrivateRoute>\n          <Route path=\"/post/:postId\" component={Post} />\n        </Switch>\n      </div>\n    </BrowserRouter>\n  );\n}\n\nexport default Routes;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { store } from \"./redux\";\nimport Routes from \"./Routes\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <Routes />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}