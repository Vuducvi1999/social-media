{"version":3,"sources":["redux/actions/actionTypes.jsx","redux/reducers/jwtReducer.jsx","redux/reducers/usersReducer.jsx","redux/reducers/postsReducer.jsx","redux/index.jsx","auth/PrivateRoute.jsx","auth/index.js","config.js","user/uuid.jsx","post/apiPost.jsx","post/FindPost.jsx","core/Home.jsx","user/apiUser.jsx","core/Menu.jsx","core/Post.jsx","core/FindUser.jsx","core/Users.jsx","post/CreatePost.jsx","user/EditProfile.jsx","user/Profile.jsx","user/Signin.jsx","user/Signup.jsx","post/UpdatePost.jsx","Routes.js","index.js"],"names":["GET_USER","GET_ALL_USER","GET_ALL_POST","init","token","user","reducers","combineReducers","jwt","state","action","type","payload","users","posts","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","PrivateRoute","children","rest","render","props","localStorage","getItem","JSON","parse","to","pathname","location","prev","API_URL","uuid","dt","Date","getTime","replace","c","r","Math","random","floor","toString","CalcTime","createdAt","length","getPosts","fetch","method","then","res","json","catch","e","console","log","connect","useState","find","setFind","result","setResult","pages","setPages","pagination","setPagination","Submit","preventDefault","trim","headers","body","stringify","findPost","data","arr","sl","ceil","i","push","Change","target","value","className","onSubmit","onChange","placeholder","slice","map","p","_id","style","backgroundImage","title","postedBy","name","onClick","padding","backgroundColor","color","useEffect","scrollTo","temp","marginBottom","getUser","id","withRouter","dispatch","clickBar","setClickBar","match","exact","removeItem","post","setPost","requireSignin","setRequireSignin","signinToComment","setSigninToComment","text","setText","showImg","setShowImg","error","setError","params","postId","currentPost","Uncomment","userId","Authorization","uncommentPost","commentPost","position","src","alt","wordBreak","lineHeight","likes","unlikePost","confirm","history","comments","listUser","pos","flexFlow","flexBasis","flexShrink","backgroundPosition","backgroundSize","width","paddingTop","flexGrow","about","findUser","allusers","initvalue","photo","success","formData","loading","values","setValue","setformData","FormData","files","set","postPost","Error","htmlFor","rows","email","password","formSubmit","form","updateUser","setItem","showError","setUser","isOne","setIsOne","undefined","follow","setFollow","setLoading","userPosts","setUserPosts","following","deleteAcc","Follow","followId","Unfollow","unfollowId","err","toLocaleString","followers","signinAPI","setformSubmit","updatePost","whiteSpace","Routes","path","component","Home","Profile","Signup","Signin","Users","Post","ReactDOM","document","getElementById"],"mappings":"sLAAaA,EAAW,WACXC,EAAe,eACfC,EAAe,eCAtBC,EAAO,CAAEC,MAAO,GAAIC,KAAM,I,QCA1BF,EAAO,GCAPA,EAAO,GCGPG,EAAWC,YAAgB,CAC/BC,IHFwB,WAA2B,IAA1BC,EAAyB,uDAAjBN,EAAMO,EAAW,uCAClD,OAAQA,EAAOC,MACb,KAAKX,EACH,OAAO,eAAKU,EAAOE,SACrB,QACE,OAAOH,IGFXI,MFH0B,WAA2B,IAA1BJ,EAAyB,uDAAjBN,EAAMO,EAAW,uCACpD,OAAQA,EAAOC,MACb,KAAKV,EACH,OAAO,YAAIS,EAAOE,SACpB,QACE,OAAOH,IEDXK,MDJ0B,WAA2B,IAA1BL,EAAyB,uDAAjBN,EAAMO,EAAW,uCACpD,OAAQA,EAAOC,MACb,KAAKT,EACH,OAAO,YAAIQ,EAAOE,SACpB,QACE,OAAOH,MCEAM,EAAQC,YACnBV,EACAW,OAAOC,6BACHD,OAAOC,8BACLD,OAAOC,+BACT,M,qBCYSC,EAxBM,SAAC,GAA2B,IAAzBC,EAAwB,EAAxBA,SAAaC,EAAW,4BAC9C,OACE,cAAC,IAAD,2BACMA,GADN,IAEEC,OAAQ,SAACC,GAAD,MCPU,qBAAXN,QACPO,aAAaC,QAAQ,QAChBC,KAAKC,MAAMH,aAAaC,QAAQ,QDOjCL,EAEA,cAAC,IAAD,CACEQ,GAAI,CACFC,SAAUN,EAAMO,SAASrB,MAAQc,EAAMO,SAASrB,MAAMsB,KAAO,IAC7DtB,MAAO,CAAEsB,KAAMR,EAAMO,SAASD,kB,OEf/BG,EAAU,gDCAVC,EAAO,WAClB,IAAIC,GAAK,IAAIC,MAAOC,UAChBH,EAAO,uCAAuCI,QAAQ,SAAS,SACjEC,GAEA,IAAIC,GAAKL,EAAqB,GAAhBM,KAAKC,UAAiB,GAAK,EAEzC,OADAP,EAAKM,KAAKE,MAAMR,EAAK,KACP,MAANI,EAAYC,EAAS,EAAJA,EAAW,GAAKI,SAAS,OAEpD,OAAOV,GAGIW,EAAW,SAACC,GACvB,IAAMC,GAAU,IAAIX,KAAS,IAAIA,KAAKU,IAAc,MACpD,OAAa,GAATC,EAAc,EACTN,KAAKE,MAAe,GAATI,EAAc,IAAIH,WAAa,eAC/CG,EAAS,EAAUN,KAAKE,MAAe,GAATI,GAAaH,WAAa,aACxDG,EAAS,GAAWN,KAAKE,MAAMI,GAAQH,WAAa,YACpDG,EAAS,GAAWN,KAAKE,MAAMI,EAAS,IAAIH,WAAa,mBAA7D,GChBWI,EAAW,kBACtBC,MAAM,GAAD,OAAIhB,EAAJ,eAA0B,CAAEiB,OAAQ,QACtCC,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBC,OAAM,SAACC,GAAD,OAAOC,QAAQC,IAAIF,OCyKfG,eAJS,SAAChD,GAAD,MAAY,CAClCD,IAAKC,EAAMD,OAG2B,KAAzBiD,EAvKE,SAAC,GAAsB,EAApBjD,IAAoB,uBAAC,IAAD,EACdkD,mBAAS,IADK,mBAC/BC,EAD+B,KACzBC,EADyB,OAEVF,mBAAS,IAFC,mBAE/BG,EAF+B,KAEvBC,EAFuB,OAGZJ,mBAAS,IAHG,mBAG/BK,EAH+B,KAGxBC,EAHwB,OAIFN,mBAAS,GAJP,mBAI/BO,EAJ+B,KAInBC,EAJmB,KAyDhCC,EAAS,SAACb,GAEd,GADAA,EAAEc,kBACGT,EAAKU,OAAQ,OAAOP,EAAU,KDqBf,SAACH,GAAD,OACtBX,MAAM,GAAD,OAAIhB,EAAJ,cAAyB,CAC5BiB,OAAQ,OACRqB,QAAS,CACP,eAAgB,oBAElBC,KAAM7C,KAAK8C,UAAU,CAAEb,WAEtBT,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBC,OAAM,SAACC,GAAD,OAAOC,QAAQC,IAAIF,OC7B1BmB,CAASd,GACNT,MAAK,SAACwB,GACLZ,EAAUY,GACVnB,QAAQC,IAAIkB,GAGZ,IAFA,IAAIC,EAAM,GACNC,EAAKpC,KAAKqC,KAAKH,EAAK5B,OAAS,GACxBgC,EAAI,EAAGA,EAAIF,EAAK,EAAGE,IAAKH,EAAII,KAAKD,GAC1Cd,EAASW,MAEVtB,OAAM,SAACC,GAAD,OAAOC,QAAQC,IAAIF,OAExB0B,EAAS,SAAC1B,GAAD,OAAOM,EAAQN,EAAE2B,OAAOC,QAsBvC,OACE,qCACE,qBAAKC,UAAU,SAAf,SACE,qBAAKA,UAAU,OAAf,SAtBJ,mCACE,sBAAMC,SAAUjB,EAAhB,SACE,sBAAKgB,UAAU,mBAAf,UACE,uBACEE,SAAUL,EACVrE,KAAK,OACLwE,UAAU,eACVG,YAAY,kBAEd,qBAAKH,UAAU,qBAAf,SACE,wBAAQA,UAAU,iCAAiCxE,KAAK,SAAxD,oCA7ER,mCACE,qBAAKwE,UAAU,gBAAf,SACE,qBAAKA,UAAU,eAAf,SACqB,IAAlBtB,EAAOf,QACNe,EAAO0B,MAAyB,GAAlBtB,EAAa,GAAqB,EAAbA,GAAgBuB,KAAI,SAACC,GAAD,OACrD,8BAIE,sBAAKN,UAAU,OAAf,UACE,cAAC,IAAD,CAAMvD,GAAE,gBAAW6D,EAAEC,KAArB,SACE,qBACEP,UAAU,WACVQ,MAAO,CACLC,gBAAgB,OAAD,OAAS5D,EAAT,uBAA+ByD,EAAEC,IAAjC,UAIrB,sBAAKP,UAAU,YAAf,UACE,oBAAIA,UAAU,aAAd,SACGM,EAAEI,MAAM/C,OAAS,GACd2C,EAAEI,MAAMN,MAAM,EAAG,KAAO,WACxBE,EAAEI,QAGR,mBAAGV,UAAU,YAAb,SACGM,EAAElB,KAAKzB,OAAS,GACb2C,EAAElB,KAAKgB,MAAM,EAAG,KAAO,WACvBE,EAAElB,OAER,sBAAKY,UAAU,kDAAf,UACE,qBAAIA,UAAU,wBAAd,sBACY,IACV,cAAC,IAAD,CAAMvD,GAAE,mBAAc6D,EAAEK,SAASJ,KAAjC,SACGD,EAAEK,SAASC,UAGhB,oBAAIZ,UAAU,uBAAd,SACGvC,EAAS6C,EAAE5C,uBAhCfZ,cAuFI,IAAlB4B,EAAOf,QACN,mCACE,qBAAKqC,UAAU,uCAAf,SACE,qBAAIA,UAAU,cAAd,UACE,oBACEa,QAAS,SAAC1C,GACW,IAAfW,GACCC,EAAcD,EAAa,IAElC0B,MAAO,CAAEM,QAAS,cAClBd,UAAU,6BANZ,sBAWCpB,EAAMyB,KAAI,SAACC,GAAD,OACTA,IAAMxB,EACJ,oBACE+B,QAAS,SAAC1C,GACRY,EAAcuB,IAEhBN,UAAU,6BACVQ,MAAO,CACLO,gBAAiB,UACjBC,MAAO,OACPF,QAAS,cARb,SAYGR,GAFIxD,KAKP,oBACE+D,QAAS,SAAC1C,GACRY,EAAcuB,IAEhBN,UAAU,6BACVQ,MAAO,CAAEM,QAAS,cALpB,SAQGR,GAFIxD,QAOX,oBACE+D,QAAS,SAAC1C,GACJW,IAAeF,EAAMjB,QACpBoB,EAAcD,EAAa,IAElC0B,MAAO,CAAEM,QAAS,cAClBd,UAAU,6BANZ,+BCVd,IAEe1B,eAFE,SAAChD,GAAD,MAAY,CAAEK,MAAOL,EAAMK,SAEX,KAAlB2C,EAzIf,YAAoC,IAApB3C,EAAmB,EAAnBA,MAAmB,4BACP4C,mBAAS,KADF,mBAC1BK,EAD0B,KACnBC,EADmB,OAEGN,mBAAS,GAFZ,mBAE1BO,EAF0B,KAEdC,EAFc,KA+DjC,OA3DAkC,qBAAU,WACRnF,OAAOoF,SAAS,EAAG,GAGnB,IAFA,IAAMC,EAAO9D,KAAKqC,KAAK/D,EAAMgC,OAAS,GAChCK,EAAM,GACH2B,EAAI,EAAGA,EAAIwB,EAAO,EAAGxB,IAAK3B,EAAI4B,KAAKD,GAC5Cd,EAASb,KACR,CAACrC,IAsDF,mCACE,sBAAKqE,UAAU,YAAf,UACE,sBAAKA,UAAU,MAAf,UAEE,cAAC,EAAD,IACA,qBAAKA,UAAU,SAAf,SACE,oBAAIA,UAAU,OAAd,wBAzDR,mCACE,qBAAKA,UAAU,gBAAf,SACE,qBAAKA,UAAU,eAAf,SACoB,IAAjBrE,EAAMgC,QACLhC,EAAMyE,MAAyB,GAAlBtB,EAAa,GAAqB,EAAbA,GAAgBuB,KAAI,SAACC,GAAD,OACpD,8BAIE,sBAAKN,UAAU,OAAf,UACE,cAAC,IAAD,CAAMvD,GAAE,gBAAW6D,EAAEC,KAArB,SACE,qBACEP,UAAU,WACVQ,MAAO,CACLC,gBAAgB,OAAD,OAAS5D,EAAT,uBAA+ByD,EAAEC,IAAjC,UAIrB,sBAAKP,UAAU,YAAf,UACE,oBAAIA,UAAU,aAAd,SACGM,EAAEI,MAAM/C,OAAS,GACd2C,EAAEI,MAAMN,MAAM,EAAG,KAAO,WACxBE,EAAEI,QAGR,mBAAGV,UAAU,YAAb,SACGM,EAAElB,KAAKzB,OAAS,GACb2C,EAAElB,KAAKgB,MAAM,EAAG,KAAO,WACvBE,EAAElB,OAER,sBAAKY,UAAU,kDAAf,UACE,qBAAIA,UAAU,wBAAd,sBACY,IACV,cAAC,IAAD,CAAMvD,GAAE,mBAAc6D,EAAEK,SAASJ,KAAjC,SACGD,EAAEK,SAASC,UAGhB,oBAAIZ,UAAU,uBAAd,SACGvC,EAAS6C,EAAE5C,uBAhCfZ,iBAuDb,qBAAKkD,UAAU,uCAAf,SACE,qBAAIA,UAAU,cAAd,UACE,oBACEa,QAAS,SAAC1C,GACW,IAAfW,GACCC,EAAcD,EAAa,IAElC0B,MAAO,CAAEM,QAAS,cAClBd,UAAU,6BANZ,sBAWCpB,EAAMyB,KAAI,SAACC,GAAD,OACTA,IAAMxB,EACJ,oBACE+B,QAAS,SAAC1C,GACRY,EAAcuB,IAEhBN,UAAU,6BACVQ,MAAO,CACLO,gBAAiB,UACjBC,MAAO,OACPF,QAAS,cARb,SAYGR,GAFIxD,KAKP,oBACE+D,QAAS,SAAC1C,GACRY,EAAcuB,IAEhBN,UAAU,6BACVQ,MAAO,CAAEM,QAAS,cALpB,SAQGR,GAFIxD,QAOX,oBACE+D,QAAS,SAAC1C,GACJW,IAAeF,EAAMjB,QACpBoB,EAAcD,EAAa,IAElC0B,MAAO,CAAEM,QAAS,cAClBd,UAAU,6BANZ,uBAYJ,qBAAKA,UAAU,SAASQ,MAAO,CAAEY,aAAc,kBC5G1CC,EAAU,SAACC,GAAD,OACrBzD,MAAM,GAAD,OAAIhB,EAAJ,iBAAoByE,GAAM,CAAExD,OAAQ,QACtCC,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBC,OAAM,SAACC,GAAD,OAAOC,QAAQC,IAAIF,OC6GfG,eAFS,SAAChD,GAAD,MAAY,CAAED,IAAKC,EAAMD,OAET,KAAzBiD,CAA+BiD,aAjIjC,SAAC,GAAiC,IAA/BlG,EAA8B,EAA9BA,IAAKmG,EAAyB,EAAzBA,SAAapF,EAAY,oCACZmC,oBAAS,GADG,mBACrCkD,EADqC,KAC3BC,EAD2B,KA0B5C,OAvBAT,qBAAU,WDUVpD,MAAM,GAAD,OAAIhB,EAAJ,eAA0B,CAAEiB,OAAQ,QACtCC,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBC,OAAM,SAACC,GAAD,OAAOC,QAAQC,IAAIF,MCTvBJ,MAAK,SAACwB,GACLiC,EAAS,CAAEhG,KAAMV,EAAcW,QAAS8D,OAEzCrB,OAAM,SAACC,GAAD,OAAOC,QAAQC,IAAIF,MAG5BP,IACGG,MAAK,SAACwB,GACLiC,EAAS,CAAEhG,KAAMT,EAAcU,QAAS8D,OAEzCrB,OAAM,SAACC,GAAD,OAAOC,QAAQC,IAAIF,MAExB9B,aAAaC,QAAQ,QACvBkF,EAAS,CACPhG,KAAMX,EACNY,QAASc,KAAKC,MAAMH,aAAaC,QAAQ,YAG5C,CAACF,EAAMuF,QAGR,qCACE,sBAAK3B,UAAU,sEAAf,UACE,cAAC,IAAD,CAAS4B,OAAO,EAAM5B,UAAU,eAAevD,GAAG,IAAlD,kBAGA,cAAC,IAAD,CAASuD,UAAU,eAAevD,GAAG,SAArC,mBAGEpB,EAAIH,KAAKqF,IAUT,GATA,qCACE,cAAC,IAAD,CAASP,UAAU,eAAevD,GAAG,UAArC,qBAGA,cAAC,IAAD,CAASuD,UAAU,eAAevD,GAAG,UAArC,wBAOHpB,EAAIH,KAAKqF,KACR,qCACE,cAAC,IAAD,CAAS9D,GAAE,eAAkBuD,UAAU,eAAvC,yBAGA,cAAC,IAAD,CAASvD,GAAE,mBAAcpB,EAAIH,KAAKqF,KAAOP,UAAU,eAAnD,qBAGA,cAAC,IAAD,CACEvD,GAAG,IACHoE,QAAS,WACPxE,aAAawF,WAAW,OACxBL,EAAS,CAAEhG,KAAMX,EAAUY,QAAS,CAAEJ,IAAK,GAAIH,KAAM,OAEvD8E,UAAU,sBANZ,4BAaN,sBAAKA,UAAU,sFAAf,UACE,oBACEA,UAAU,yCACVa,QAAS,kBAAMa,GAAaD,MAG7BA,GACC,sBAAKzB,UAAU,mCAAf,UACE,cAAC,IAAD,CAAS4B,OAAO,EAAM5B,UAAU,eAAevD,GAAG,IAAlD,kBAGA,cAAC,IAAD,CAASuD,UAAU,eAAevD,GAAG,SAArC,mBAGEpB,EAAIH,KAAKqF,IAUT,GATA,qCACE,cAAC,IAAD,CAASP,UAAU,eAAevD,GAAG,UAArC,qBAGA,cAAC,IAAD,CAASuD,UAAU,eAAevD,GAAG,UAArC,wBAOHpB,EAAIH,KAAKqF,KACR,qCACE,cAAC,IAAD,CAAS9D,GAAE,eAAkBuD,UAAU,eAAvC,yBAGA,cAAC,IAAD,CACEvD,GAAE,mBAAcpB,EAAIH,KAAKqF,KACzBP,UAAU,eAFZ,qBAMA,cAAC,IAAD,CACEvD,GAAG,IACHoE,QAAS,WACPxE,aAAawF,WAAW,OACxBL,EAAS,CACPhG,KAAMX,EACNY,QAAS,CAAEJ,IAAK,GAAIH,KAAM,OAG9B8E,UAAU,sBATZ,sCC0KD1B,eALS,SAAChD,GAAD,MAAY,CAClCK,MAAOL,EAAMK,MACbN,IAAKC,EAAMD,OAG2B,KAAzBiD,EA/QF,SAAC,GAAgC,IAA9B3C,EAA6B,EAA7BA,MAAOgG,EAAsB,EAAtBA,MAAUvF,EAAY,mCACnBmC,mBAAS,IADU,mBACpCuD,EADoC,KAC9BC,EAD8B,OAEDxD,oBAAS,GAFR,mBAEpCyD,EAFoC,KAErBC,EAFqB,OAGG1D,oBAAS,GAHZ,mBAGpC2D,EAHoC,KAGnBC,EAHmB,OAInB5D,mBAAS,IAJU,mBAIpC6D,EAJoC,KAI9BC,EAJ8B,OAKb9D,oBAAS,GALI,mBAKpC+D,EALoC,KAK3BC,EAL2B,OAMjBhE,mBAAS,IANQ,mBAMpCiE,EANoC,KAM7BC,EAN6B,KAQ3CxB,qBAAU,WACRnF,OAAOoF,SAAS,EAAG,GACnB,IAAMI,EAAKK,EAAMe,OAAOC,OACxB,GAAqB,IAAjBhH,EAAMgC,OAAc,CACtB,IAAMiF,EAAcjH,EAAM6C,MAAK,SAAC8B,GAAD,OAAOA,EAAEC,MAAQe,KAChDlD,QAAQC,IAAIuE,GACZb,EAAQa,MAET,CAACjB,EAAMe,OAAQ/G,IAElB,IA2DMkH,EAAY,SAACT,ILjBQ,SAACU,EAAQH,EAAQP,EAAMnH,GAAvB,OAC3B4C,MAAM,GAAD,OAAIhB,EAAJ,mBAA8B,CACjCiB,OAAQ,MACRqB,QAAS,CACP,eAAgB,mBAChB4D,cAAc,UAAD,OAAY9H,IAE3BmE,KAAM7C,KAAK8C,UAAU,CAAE+C,OAAMU,SAAQH,aAEpC5E,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBC,OAAM,SAACC,GAAD,OAAOC,QAAQC,IAAIF,OKQ1B6E,CAAc5G,EAAMf,IAAIH,KAAKqF,IAAKuB,EAAKvB,IAAK6B,EAAMhG,EAAMf,IAAIJ,OACzD8C,MAAK,SAACwB,GACL,OAAIA,EAAKiD,MAAcC,EAASlD,EAAKiD,OACzBT,EAAQxC,MAErBrB,OAAM,SAACC,GAAD,OAAOC,QAAQC,IAAIF,OAGxBa,EAAS,SAACb,GAEd,GADAA,EAAEc,iBACE7C,EAAMf,MAAQe,EAAMf,IAAIH,KAAKqF,IAAK,OAAO4B,GAAmB,ILxCzC,SAACW,EAAQH,EAAQP,EAAMnH,GAAvB,OACzB4C,MAAM,GAAD,OAAIhB,EAAJ,iBAA4B,CAC/BiB,OAAQ,MACRqB,QAAS,CACP,eAAgB,mBAChB4D,cAAc,UAAD,OAAY9H,IAE3BmE,KAAM7C,KAAK8C,UAAU,CAAE+C,OAAMU,SAAQH,aAEpC5E,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBC,OAAM,SAACC,GAAD,OAAOC,QAAQC,IAAIF,OKgC1B8E,CAAY7G,EAAMf,IAAIH,KAAKqF,IAAKuB,EAAKvB,IAAK6B,EAAMhG,EAAMf,IAAIJ,OAAO8C,MAC/D,SAACwB,GACC,OAAIA,EAAKiD,MAAcC,EAASlD,EAAKiD,QAEnCH,EAAQ,IACDN,EAAQxC,QAuCvB,OACE,sBAAKS,UAAU,YAAf,UA9FAsC,GACE,mCACE,sBAAKtC,UAAU,mBAAf,UACE,sBAAKA,UAAU,WAAWQ,MAAO,CAAE0C,SAAU,YAA7C,UACE,qBACEC,IAAG,UAAKtG,EAAL,uBAA2BiF,EAAKvB,KACnC6C,IAAKtB,EAAKlB,OAEZ,mBACEZ,UAAU,+BACVa,QAAS,kBAAM0B,GAAW,SAG9B,qBAAKvC,UAAU,UAAUa,QAAS,kBAAM0B,GAAW,WAmFvD,sBAAKvC,UAAU,MAAf,UACE,qBAAKA,UAAU,SAAf,SACE,oBACEA,UAAU,YACVQ,MAAO,CACL6C,UAAW,aACXC,WAAY,GACZlC,aAAc,QALlB,SAQGU,EAAKvB,IAAMuB,EAAKpB,MAAQ,iBAG7B,qBAAKV,UAAU,SAAf,SA7HJ,qBAAKA,UAAU,yBAAf,SACG8B,EAAKvB,IACJ,mCACE,qBACE4C,IAAG,UAAKtG,EAAL,uBAA2BiF,EAAKvB,KACnC6C,IAAKtB,EAAKlB,KACVC,QAAS,kBAAM0B,GAAW,QAZlC,qBAAKvC,UAAU,0CAAf,SACE,oBAAIA,UAAU,oBAAd,8BAmIE,sBAAKA,UAAU,SAAf,UACE,sBAAKA,UAAU,iBAAf,UACE,uBAAMA,UAAU,OAAhB,UACG8B,EAAKvB,KAAOuB,EAAKyB,MAAM5F,OAAQ,IAChC,mBACEkD,QAjGD,WACX,GAAIzE,EAAMf,MAAQe,EAAMf,IAAIH,KAAKqF,IAAK,OAAO0B,GAAiB,GLpC1C,IAACa,EAAQH,EAAQ1H,EKqChC6G,EAAKyB,MAAM/E,MAAK,SAAC8B,GAAD,OAAOA,IAAMlE,EAAMf,IAAIH,KAAKqF,OLzB3B,SAACuC,EAAQH,EAAQ1H,GAAjB,OACxB4C,MAAM,GAAD,OAAIhB,EAAJ,gBAA2B,CAC9BiB,OAAQ,MACRqB,QAAS,CACP,eAAgB,mBAChB4D,cAAc,UAAD,OAAY9H,IAE3BmE,KAAM7C,KAAK8C,UAAU,CAAEyD,SAAQH,aAE9B5E,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBC,OAAM,SAACC,GAAD,OAAOC,QAAQC,IAAIF,MKuBxBqF,CAAWpH,EAAMf,IAAIH,KAAKqF,IAAKuB,EAAKvB,IAAKnE,EAAMf,IAAIJ,OAChD8C,MAAK,SAACwB,GACL,OAAIA,EAAKiD,MAAcC,EAASlD,EAAKiD,OACzBT,EAAQxC,MAErBrB,OAAM,SAACC,GAAD,OAAOC,QAAQC,IAAIF,OLlDT2E,EKsCV1G,EAAMf,IAAIH,KAAKqF,ILtCGoC,EKsCEb,EAAKvB,ILtCCtF,EKsCImB,EAAMf,IAAIJ,MLrCrD4C,MAAM,GAAD,OAAIhB,EAAJ,cAAyB,CAC5BiB,OAAQ,MACRqB,QAAS,CACP,eAAgB,mBAChB4D,cAAc,UAAD,OAAY9H,IAE3BmE,KAAM7C,KAAK8C,UAAU,CAAEyD,SAAQH,aAE9B5E,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBC,OAAM,SAACC,GAAD,OAAOC,QAAQC,IAAIF,OK6BrBJ,MAAK,SAACwB,GACL,OAAIA,EAAKiD,MAAcC,EAASlD,EAAKiD,OACzBT,EAAQxC,MAErBrB,OAAM,SAACC,GAAD,OAAOC,QAAQC,IAAIF,OA0FlB6B,UAAU,qEAtCtBgC,GACE,sBAAKhC,UAAU,+BAAf,wBAEE,cAAC,IAAD,CAAMvD,GAAG,UAAT,2BAwCG+F,GACC,sBAAKxC,UAAU,+BAAf,UACGwC,EADH,SACe,cAAC,IAAD,CAAM/F,GAAG,UAAT,oBADf,eAKJ,qBAAKuD,UAAU,SAAf,SACE,qBAAKA,UAAU,+BAAf,SACG8B,EAAKvB,IAAMuB,EAAK1C,KAAO,iBAG5B,qBAAKY,UAAU,SAAf,SACG8B,EAAKvB,KACJ,sBAAKP,UAAU,0BAAf,sBACY,IACV,cAAC,IAAD,CAAMvD,GAAE,mBAAcqF,EAAKnB,SAASJ,KAApC,SACGuB,EAAKnB,SAASC,OACT,IAJV,MAKMnD,EAASqE,EAAKpE,gBAIxB,qBAAKsC,UAAU,SAAf,SACE,sBAAKA,UAAU,4DAAf,UACE,cAAC,IAAD,CAAMvD,GAAG,IAAIuD,UAAU,6BAAvB,2BAGC8B,EAAKvB,KAAOnE,EAAMf,KAAOe,EAAMf,IAAIH,KAAKqF,MAAQuB,EAAKnB,SAASJ,KAC7D,qCACE,cAAC,IAAD,CACEP,UAAU,6BACVvD,GAAE,uBAAkBqF,EAAKvB,KAF3B,yBAMA,wBACEP,UAAU,4BACVa,QAAS,WACP,IL1LOS,EAAIrG,EK0LKa,OAAO2H,QAAQ,uBL1LxBnC,EK4LMQ,EAAKvB,IL5LPtF,EK4LYmB,EAAMf,IAAIJ,ML3LnD4C,MAAM,GAAD,OAAIhB,EAAJ,wBAA2ByE,GAAM,CACpCxD,OAAQ,SACRqB,QAAS,CACP4D,cAAc,UAAD,OAAY9H,MAG1B8C,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBC,OAAM,SAACC,GAAD,OAAOC,QAAQC,IAAIF,OKoL8BJ,MAAK,SAACwB,GACtCA,EAAKiD,MAAOC,EAASlD,EAAKiD,QAE5B5E,IACGG,MAAK,SAACwB,GACLnD,EAAMoF,SAAS,CACbhG,KAAMT,EACNU,QAAS8D,OAGZrB,OAAM,SAACC,GAAD,OAAOC,QAAQC,IAAIF,MAC5B/B,EAAMsH,QAAQ9D,KAAK,UAhB7B,yBAsBU,YAKlB,sBAAKI,UAAU,SAAf,UACE,oBAAIA,UAAU,gBAAd,6BAlGNkC,GACE,sBAAKlC,UAAU,8BAAf,wBAEE,cAAC,IAAD,CAAMvD,GAAG,UAAT,2BAkGA,qBAAKuD,UAAU,SAAf,SACE,qBAAKA,UAAU,eAAf,SA/HN,uBAAMC,SAAUjB,EAAhB,UACE,qBAAKgB,UAAU,kBAAf,SACE,0BACExE,KAAK,OACL0E,SAAU,SAAC/B,GAAD,OAAOkE,EAAQlE,EAAE2B,OAAOC,QAClCA,MAAOqC,EACPpC,UAAU,eACVG,YAAY,gBAGhB,wBAAQ3E,KAAK,SAASwE,UAAU,6BAAhC,2BAuHE,qBAAKA,UAAU,SAAf,SACE,oBAAIA,UAAU,+BAAd,SACG8B,EAAK6B,UACJ7B,EAAK6B,SAASvD,MAAM,EAAG,KAAKC,KAAI,SAACC,GAAD,OAC9B,qBAAKN,UAAU,0BAAf,SACE,sBAAKA,UAAU,qBAAf,UACE,mBAAGA,UAAU,0BAAb,SAAwCM,EAAE8B,OAC1C,sBAAKpC,UAAU,uBAAf,sBACY,IACV,cAAC,IAAD,CAAMvD,GAAE,mBAAc6D,EAAEpF,KAAKqF,KAA7B,SAAqCD,EAAEpF,KAAK0F,OAAa,IACxDnD,EAAS6C,EAAE5C,WACXtB,EAAMf,IAAIH,MAAQkB,EAAMf,IAAIH,KAAKqF,MAAQD,EAAEpF,KAAKqF,KAC/C,sBACEP,UAAU,0BACVa,QAAS,kBAAMgC,EAAUvC,EAAE8B,OAF7B,2BARsCtF,YAqBtD,qBAAKkD,UAAU,SAASQ,MAAO,CAAEY,aAAc,QAA/C,SACGU,EAAK6B,UAAY7B,EAAK6B,SAAShG,OAAS,KACvC,qBAAKqC,UAAU,qBAAf,mDCpFG1B,eALS,SAAChD,GAAD,MAAY,CAClCI,MAAOJ,EAAMI,MACbL,IAAKC,EAAMD,OAG2B,KAAzBiD,EAtLE,SAAC,GAA6B,EAA3BjD,IAA2B,EAAtBK,MAAsB,+BAAC,IAAD,EACrB6C,mBAAS,IADY,mBACtCC,EADsC,KAChCC,EADgC,OAEjBF,mBAAS,IAFQ,mBAEtCG,EAFsC,KAE9BC,EAF8B,OAGnBJ,mBAAS,IAHU,mBAGtCK,EAHsC,KAG/BC,EAH+B,OAITN,mBAAS,GAJA,mBAItCO,EAJsC,KAI1BC,EAJ0B,KAMvC6E,EAAW,SAACC,GAChB,IAAMrE,EACI,SAARqE,EACInF,EAAO0B,MAAyB,IAAlBtB,EAAa,GAA4B,IAAlBA,EAAa,GAAU,GAC5DJ,EAAO0B,MAAyB,IAAlBtB,EAAa,GAAU,EAAsB,IAAlBA,EAAa,GAAU,IAEtE,OACE,mCACGU,EAAIa,KAAI,SAACC,GAAD,OACP,sBAEEN,UAAU,2EACVQ,MAAO,CAAEsD,SAAU,UAHrB,UAKE,qBAAKtD,MAAO,CAAEuD,UAAW,MAAOC,WAAY,GAA5C,SACE,cAAC,IAAD,CAAMvH,GAAE,mBAAc6D,EAAEC,KAAOP,UAAU,QAAzC,SACE,qBACEA,UAAU,eACVQ,MAAO,CACLC,gBAAgB,OAAD,OAAS5D,EAAT,uBAA+ByD,EAAEC,IAAjC,KACf0D,mBAAoB,SACpBC,eAAgB,QAChBC,MAAO,OACPC,WAAY,cAKpB,sBAAK5D,MAAO,CAAE6D,SAAU,KAAxB,UACE,sBAAKrE,UAAU,0DAAf,UACE,oBAAIA,UAAU,qCAAd,SACE,eAAC,IAAD,CAAMvD,GAAE,mBAAc6D,EAAEC,KAAxB,cAAiCD,EAAEM,UAErC,uBAAOZ,UAAU,aAAjB,SACE,oBAAGA,UAAU,YAAb,qBAEGvC,EAAS6C,EAAE5C,mBAIlB,4BACG4C,EAAEgE,MACDhE,EAAEgE,MAAM3G,OAAS,IACf2C,EAAEgE,MAAMlE,MAAM,EAAG,KAAO,MAExBE,EAAEgE,MAGJ,uBAAOtE,UAAU,gCAAjB,2CAtCDM,EAAEC,WAkDXvB,EAAS,SAACb,GAEd,GADAA,EAAEc,kBACGT,EAAKU,OAAQ,OAAOP,EAAU,KHUf,SAACH,GAAD,OACtBX,MAAM,GAAD,OAAIhB,EAAJ,cAAyB,CAC5BiB,OAAQ,OACRqB,QAAS,CACP,eAAgB,oBAElBC,KAAM7C,KAAK8C,UAAU,CAAEb,WAEtBT,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBC,OAAM,SAACC,GAAD,OAAOC,QAAQC,IAAIF,OGlB1BoG,CAAS/F,GACNT,MAAK,SAACwB,GACLZ,EAAUY,GACVnB,QAAQC,IAAIkB,GAGZ,IAFA,IAAIC,EAAM,GACNC,EAAKpC,KAAKqC,KAAKH,EAAK5B,OAAS,IACxBgC,EAAI,EAAGA,EAAIF,EAAK,EAAGE,IAAKH,EAAII,KAAKD,GAC1Cd,EAASW,MAEVtB,OAAM,SAACC,GAAD,OAAOC,QAAQC,IAAIF,OAExB0B,EAAS,SAAC1B,GAAD,OAAOM,EAAQN,EAAE2B,OAAOC,QAsBvC,OACE,qCACE,qBAAKC,UAAU,SAAf,SACE,qBAAKA,UAAU,OAAf,SAtBJ,mCACE,sBAAMC,SAAUjB,EAAhB,SACE,sBAAKgB,UAAU,mBAAf,UACE,uBACEE,SAAUL,EACVrE,KAAK,OACLwE,UAAU,eACVG,YAAY,sBAEd,qBAAKH,UAAU,qBAAf,SACE,wBAAQA,UAAU,iCAAiCxE,KAAK,SAAxD,oCAea,IAAlBkD,EAAOf,QACN,qCACE,qBAAKqC,UAAU,0BAAf,SACE,qBAAKA,UAAU,aAAf,SAA6B4D,EAAS,YAExC,qBAAK5D,UAAU,0BAAf,SACE,qBAAKA,UAAU,aAAf,SAA6B4D,EAAS,aAExC,qBAAK5D,UAAU,uCAAf,SACE,qBAAIA,UAAU,cAAd,UACE,oBACEa,QAAS,SAAC1C,GACW,IAAfW,GACCC,EAAcD,EAAa,IAElC0B,MAAO,CAAEM,QAAS,cAClBd,UAAU,6BANZ,sBAWCpB,EAAMyB,KAAI,SAACC,GAAD,OACTA,IAAMxB,EACJ,oBACE+B,QAAS,SAAC1C,GACRY,EAAcuB,IAEhBN,UAAU,6BACVQ,MAAO,CACLO,gBAAiB,UACjBC,MAAO,OACPF,QAAS,cARb,SAYGR,GAFIxD,KAKP,oBACE+D,QAAS,SAAC1C,GACRY,EAAcuB,IAEhBN,UAAU,6BACVQ,MAAO,CAAEM,QAAS,cALpB,SAQGR,GAFIxD,QAOX,oBACE+D,QAAS,SAAC1C,GACJW,IAAeF,EAAMjB,QACpBoB,EAAcD,EAAa,IAElC0B,MAAO,CAAEM,QAAS,cAClBd,UAAU,6BANZ,gCCLC1B,eAJS,SAAChD,GAAD,MAAY,CAClCkJ,SAAUlJ,EAAMI,SAGsB,KAAzB4C,EA1JD,SAAC,GAAgC,EAA9BjD,IAA+B,IAA1BmJ,EAAyB,EAAzBA,SAAyB,qCACnBjG,mBAAS,KADU,mBACtCK,EADsC,KAC/BC,EAD+B,OAETN,mBAAS,GAFA,mBAEtCO,EAFsC,KAE1BC,EAF0B,KAI7CkC,qBAAU,WACRnF,OAAOoF,SAAS,EAAG,GACnB,IAAIzB,EAAK,EACLD,EAAM,GACNgF,IAAU/E,EAAKpC,KAAKqC,KAAK8E,EAAS7G,OAAS,KAC/C,IAAK,IAAIgC,EAAI,EAAGA,EAAIF,EAAK,EAAGE,IAAKH,EAAII,KAAKD,GAC1Cd,EAASW,GACTpB,QAAQC,IAAImG,EAAS7G,UACpB,CAAC6G,IAEJ,IAAMZ,EAAW,SAACC,GAChB,IAAMrE,EACI,SAARqE,EACIW,EAASpE,MAAyB,IAAlBtB,EAAa,GAA4B,IAAlBA,EAAa,GAAU,GAC9D0F,EAASpE,MAAyB,IAAlBtB,EAAa,GAAU,EAAsB,IAAlBA,EAAa,GAAU,IAExE,OACE,mCACG0F,EACGhF,EAAIa,KAAI,SAACC,GAAD,OACN,sBAEEN,UAAU,2EACVQ,MAAO,CAAEsD,SAAU,UAHrB,UAKE,qBAAKtD,MAAO,CAAEuD,UAAW,MAAOC,WAAY,GAA5C,SACE,cAAC,IAAD,CAAMvH,GAAE,mBAAc6D,EAAEC,KAAOP,UAAU,QAAzC,SACE,qBACEA,UAAU,eACVQ,MAAO,CACLC,gBAAgB,OAAD,OAAS5D,EAAT,uBAA+ByD,EAAEC,IAAjC,KACf0D,mBAAoB,SACpBC,eAAgB,QAChBC,MAAO,OACPC,WAAY,cAKpB,sBAAK5D,MAAO,CAAE6D,SAAU,KAAxB,UACE,sBAAKrE,UAAU,0DAAf,UACE,oBAAIA,UAAU,qCAAd,SACE,eAAC,IAAD,CAAMvD,GAAE,mBAAc6D,EAAEC,KAAxB,cAAiCD,EAAEM,UAErC,uBAAOZ,UAAU,aAAjB,SACE,oBAAGA,UAAU,YAAb,uBAEGvC,EAAS6C,EAAE5C,mBAIlB,4BACG4C,EAAEgE,MACDhE,EAAEgE,MAAM3G,OAAS,IACf2C,EAAEgE,MAAMlE,MAAM,EAAG,KAAO,MAExBE,EAAEgE,MAGJ,uBAAOtE,UAAU,gCAAjB,2CAtCDM,EAAEC,QA8CX,MAKV,OACE,qBAAKP,UAAU,YAAf,SACE,sBAAKA,UAAU,MAAf,UACE,cAAC,EAAD,IACA,qBAAKA,UAAU,cAAf,SACE,6CAEF,qBAAKA,UAAU,0BAAf,SACE,qBAAKA,UAAU,aAAf,SAA6B4D,EAAS,YAExC,qBAAK5D,UAAU,0BAAf,SACE,qBAAKA,UAAU,aAAf,SAA6B4D,EAAS,aAExC,qBAAK5D,UAAU,uCAAf,SACE,qBAAIA,UAAU,cAAd,UACE,oBACEa,QAAS,SAAC1C,GACW,IAAfW,GACCC,EAAcD,EAAa,IAElC0B,MAAO,CAAEM,QAAS,cAClBd,UAAU,6BANZ,sBAWCpB,EAAMyB,KAAI,SAACC,GAAD,OACTA,IAAMxB,EACJ,oBACE+B,QAAS,SAAC1C,GACRY,EAAcuB,IAEhBN,UAAU,6BACVQ,MAAO,CACLO,gBAAiB,UACjBC,MAAO,OACPF,QAAS,cARb,SAYGR,GAFIxD,KAKP,oBACE+D,QAAS,SAAC1C,GACRY,EAAcuB,IAEhBN,UAAU,6BACVQ,MAAO,CAAEM,QAAS,cALpB,SAQGR,GAFIxD,QAOX,oBACE+D,QAAS,SAAC1C,GACJW,IAAeF,EAAMjB,QACpBoB,EAAcD,EAAa,IAElC0B,MAAO,CAAEM,QAAS,cAClBd,UAAU,6BANZ,uBAYJ,qBAAKA,UAAU,SAASQ,MAAO,CAAEY,aAAc,kB,QCrBxC9C,eAJS,SAAChD,GAAD,MAAY,CAClCD,IAAKC,EAAMD,OAG2B,KAAzBiD,EA7HI,SAAC,GAAuB,IAArBjD,EAAoB,EAApBA,IACdoJ,GADkC,uBACtB,CAChB/D,MAAO,GACPtB,KAAM,GACNsF,MAAO,GACPlC,MAAO,GACPmC,SAAS,EACTC,SAAU,GACVC,SAAS,IAR6B,EAUbtG,mBAASkG,GAVI,mBAUjCK,EAViC,KAUzBC,EAVyB,OAWRxG,mBAAS,MAXD,mBAWjCqG,EAXiC,KAWvBI,EAXuB,KAYhCtE,EAAyCoE,EAAzCpE,MAAOtB,EAAkC0F,EAAlC1F,KAAMuF,EAA4BG,EAA5BH,QAASnC,EAAmBsC,EAAnBtC,MAAOqC,EAAYC,EAAZD,QAErC5D,qBAAU,WACRnF,OAAOoF,SAAS,EAAG,GACnB8D,EAAY,IAAIC,YACf,IAEH,IAAMpF,EAAS,SAAC1B,GACd,IAAMyC,EAAOzC,EAAE2B,OAAOc,KAChBb,EAAiB,UAATa,EAAmBzC,EAAE2B,OAAOoF,MAAM,GAAK/G,EAAE2B,OAAOC,MAC9D6E,EAASO,IAAIvE,EAAMb,GACnBgF,EAAS,2BAAKD,GAAN,kBAAelE,EAAOb,MAE1Bf,EAAS,SAACb,GACdA,EAAEc,iBACF2F,EAASO,IAAI,WAAY9J,EAAIH,KAAKqF,KAClCwE,EAAS,2BAAKD,GAAN,IAAcD,SAAS,KR1BX,SAACD,EAAU3J,GAAX,OACtB4C,MAAM,GAAD,OAAIhB,EAAJ,gBAA2B,CAC9BiB,OAAQ,OACRqB,QAAS,CACP4D,cAAc,UAAD,OAAY9H,IAE3BmE,KAAMwF,IAEL7G,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBC,OAAM,SAACC,GAAD,OAAOC,QAAQC,IAAIF,MQkB1BiH,CAASR,EAAUvJ,EAAIJ,OACpB8C,MAAK,SAACwB,GAEL,OADAnB,QAAQC,IAAIkB,GACRA,EAAKiD,MACAuC,EAAS,2BAAKD,GAAN,IAAcD,SAAS,EAAOrC,MAAOjD,EAAKiD,SACpDuC,EAAS,2BAAKN,GAAN,IAAiBE,SAAS,QAE1CzG,OAAM,SAACC,GAAD,OAAOC,QAAQC,IAAIF,OAoE9B,OACE,qBAAK6B,UAAU,YAAf,SACE,sBAAKA,UAAU,MAAf,UACE,qBAAKA,UAAU,SAAf,SACE,oBAAIA,UAAU,OAAd,wBAEF,sBAAKA,UAAU,SAAf,UAvEQ,WACZ,GAAIwC,EACF,MAAiB,gBAAVA,EACL,mCAEI,sBAAKxC,UAAU,qBAAf,UACGwC,EADH,SACe,cAAC,IAAD,CAAM/F,GAAG,UAAT,oBADf,cAMJ,qBAAKuD,UAAU,qBAAf,SAAqCwC,IA6DlC6C,GAzDP,qCAAGV,GAAW,qBAAK3E,UAAU,sBAAf,0BAAd,OAGA,qCAAG6E,EAAU,oBAAI7E,UAAU,oBAAd,wBAAoD,GAAjE,OAIA,mCACE,uBAAMC,SAAUjB,EAAhB,UACE,sBAAKgB,UAAU,aAAf,UACE,uBAAOsF,QAAQ,GAAGtF,UAAU,aAA5B,mBAGA,uBACExE,KAAK,OACLoF,KAAK,QACLZ,UAAU,oBACVE,SAAUL,OAGd,sBAAKG,UAAU,aAAf,UACE,uBAAOsF,QAAQ,GAAGtF,UAAU,aAA5B,mBAGA,uBACExE,KAAK,OACLoF,KAAK,QACLZ,UAAU,eACVE,SAAUL,EACVE,MAAOW,OAGX,sBAAKV,UAAU,aAAf,UACE,uBAAOsF,QAAQ,GAAGtF,UAAU,aAA5B,kBAGA,0BACEuF,KAAK,IACL3E,KAAK,OACLZ,UAAU,eACVE,SAAUL,EACVE,MAAOX,OAGX,wBAAQ5D,KAAK,SAASwE,UAAU,6BAAhC,oCC6DO1B,eAJS,SAAChD,GAAD,MAAY,CAClCD,IAAKC,EAAMD,OAG2B,KAAzBiD,EA9JK,SAAC,GAAuB,IAArBjD,EAAoB,EAApBA,IAAQe,EAAY,uBACnCpB,EAAO,CACX4F,KAAM,GACN4E,MAAO,GACPC,SAAU,GACVjD,MAAO,GACPkC,MAAO,GACPJ,MAAO,GACPK,SAAS,GAR8B,EAWLpG,mBAAS,IAAI0G,UAXR,mBAWlCS,EAXkC,aAYfnH,mBAASvD,IAZM,mBAYlC+E,EAZkC,KAY3BgF,EAZ2B,KAajCS,EAAiDzF,EAAjDyF,MAAOC,EAA0C1F,EAA1C0F,SAAUjD,EAAgCzC,EAAhCyC,MAAOmC,EAAyB5E,EAAzB4E,QAAS/D,EAAgBb,EAAhBa,KAAM0D,EAAUvE,EAAVuE,MACvCpJ,EAAgBG,EAAhBH,KAAMD,EAAUI,EAAVJ,MAEdgG,qBAAU,WACRnF,OAAOoF,SAAS,EAAG,GACnB6D,EAAS,2BAAKhF,GAAN,IAAaa,KAAMvF,EAAIH,KAAK0F,KAAM0D,MAAOjJ,EAAIH,KAAKoJ,SAC1DoB,EAAWP,IAAI,OAAQ9J,EAAIH,KAAK0F,MAChC8E,EAAWP,IAAI,QAAS9J,EAAIH,KAAKoJ,SAChC,CAACjJ,IAEJ,IAAMwE,EAAS,SAAC1B,GACd,IAAMyC,EAAOzC,EAAE2B,OAAOc,KAChBb,EAAiB,UAATa,EAAmBzC,EAAE2B,OAAOoF,MAAM,GAAK/G,EAAE2B,OAAOC,MAC9D2F,EAAWP,IAAIvE,EAAMb,GACrBgF,EAAS,2BAAKhF,GAAN,kBAAca,EAAOb,MAGzBf,EAAS,SAACb,GACdC,QAAQC,IAAIjC,EAAMO,UAClBwB,EAAEc,iBNKoB,SAACqC,EAAIrG,EAAO0K,GAAZ,OACxB9H,MAAM,GAAD,OAAIhB,EAAJ,wBAA2ByE,GAAM,CACpCxD,OAAQ,MACRqB,QAAS,CACP4D,cAAc,UAAD,OAAY9H,IAE3BmE,KAAMuG,IAEL5H,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBC,OAAM,SAACC,GAAD,OAAOC,QAAQC,IAAIF,MMZ1ByH,CAAW1K,EAAKqF,IAAKtF,EAAOyK,GACzB3H,MAAK,SAACwB,GACDA,EAAKiD,MAAOuC,EAAS,2BAAKhF,GAAN,IAAayC,MAAOjD,EAAKiD,UAE/CnG,aAAawJ,QAAQ,MAAOtJ,KAAK8C,UAAUE,IAC3CnD,EAAMoF,SAAS,CAAEhG,KAAMX,EAAUY,QAAS8D,IAC1CwF,EAAS,2BAAK/J,GAAN,IAAY2J,SAAS,SAGhCzG,OAAM,SAACC,GAAD,OAAOC,QAAQC,IAAIF,OAgG9B,OACE,qBAAK6B,UAAU,YAAf,SACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,SAAf,UACE,oBAAIA,UAAU,OAAd,0BAjGU,WAChB,GAAIwC,EACF,MAAiB,gBAAVA,EACL,mCAEI,sBAAKxC,UAAU,qBAAf,UACGwC,EADH,QACc,cAAC,IAAD,CAAM/F,GAAG,UAAT,oBADd,cAMJ,yCAAI+F,EAAQ,qBAAKxC,UAAU,qBAAf,SAAqCwC,IAAe,GAAhE,OAwFGsD,GAnFP,mCACGnB,EACC,mCACE,cAAC,IAAD,CAAUlI,GAAE,mBAAcvB,EAAKqF,SAGjC,KAMJ,uBAAMN,SAAUjB,EAAhB,UACE,sBAAKgB,UAAU,aAAf,UACE,uBAAOsF,QAAQ,GAAGtF,UAAU,aAA5B,oBAGA,uBACExE,KAAK,OACLoF,KAAK,QACLV,SAAUL,EACVG,UAAU,yBAGd,sBAAKA,UAAU,aAAf,UACE,uBAAOsF,QAAQ,GAAGtF,UAAU,aAA5B,kBAGA,uBACExE,KAAK,OACLoF,KAAK,OACLZ,UAAU,eACVD,MAAOa,EACPV,SAAUL,OAGd,sBAAKG,UAAU,aAAf,UACE,uBAAOsF,QAAQ,GAAGtF,UAAU,aAA5B,mBAGA,uBACExE,KAAK,QACLoF,KAAK,QACLZ,UAAU,eACVD,MAAOyF,EACPtF,SAAUL,OAGd,sBAAKG,UAAU,aAAf,UACE,uBAAOsF,QAAQ,GAAGtF,UAAU,aAA5B,sBAGA,uBACExE,KAAK,WACLoF,KAAK,WACLZ,UAAU,eACVD,MAAO0F,EACPvF,SAAUL,OAGd,sBAAKG,UAAU,aAAf,UACE,uBAAOsF,QAAQ,GAAGtF,UAAU,aAA5B,4BAGA,0BACEuF,KAAK,IACL3E,KAAK,QACLZ,UAAU,eACVD,MAAOuE,EACPpE,SAAUL,OAGd,wBAAQrE,KAAK,SAASwE,UAAU,6BAAhC,iCCoOS1B,eAJS,SAAChD,GAAD,MAAY,CAClCD,IAAKC,EAAMD,OAG2B,KAAzBiD,EAvWC,SAAC,GAA8B,IAA5BqD,EAA2B,EAA3BA,MAAOtG,EAAoB,EAApBA,IAAQe,EAAY,iCAEpBmC,mBAAS,IAFW,mBAErCrD,EAFqC,KAE/B6K,EAF+B,OAGlBxH,oBAAS,GAHS,mBAGrCyH,EAHqC,KAG9BC,EAH8B,OAIhB1H,wBAAS2H,GAJO,mBAIrCC,EAJqC,KAI7BC,EAJ6B,OAKd7H,oBAAS,GALK,mBAKrCsG,EALqC,KAK5BwB,EAL4B,OAMlB9H,mBAAS,IANS,mBAMrCiE,EANqC,KAM9BC,EAN8B,OAOVlE,mBAAS,IAPC,mBAOrC+H,EAPqC,KAO1BC,EAP0B,KAS5CtF,qBAAU,kBAAMnF,OAAOoF,SAAS,EAAG,KAAI,IAEvCD,qBAAU,WP0DgB,IAACK,EOzDzBxF,OAAOoF,SAAS,EAAG,GAEnBG,EAAQM,EAAMe,OAAOI,QAClB/E,MAAK,SAACwB,GACL,GAAIA,EAAKiD,MAAO,OAAOC,EAASlD,EAAKiD,OACjCjD,EAAKgB,KAAOlF,EAAIH,KAAKqF,KACvB0F,GAAS,GACTF,EAAQ1K,EAAIH,MACZkL,IACE/K,EAAIH,KAAKsL,UAAUhI,MAAK,SAAC8B,GAAD,OAAOA,EAAEC,MAAQlF,EAAIH,KAAKqF,UAKpD0F,GAAS,GACTF,EAAQxG,GACJlE,EAAIH,KAAKsL,UACXJ,IACE/K,EAAIH,KAAKsL,UAAUhI,MAAK,SAAC8B,GAAD,OAAOA,EAAEC,MAAQhB,EAAKgB,QAE7C6F,GAAU,OAGlBlI,OAAM,SAACC,GAAD,OAAOC,QAAQC,IAAIF,OPkCHmD,EO/BZK,EAAMe,OAAOI,OPgC5BjF,MAAM,GAAD,OAAIhB,EAAJ,oBAAuByE,GAAM,CAChCxD,OAAQ,QAEPC,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBC,OAAM,SAACC,GAAD,OAAOC,QAAQC,IAAIF,OOnCvBJ,MAAK,SAACwB,GACAA,EAAKiD,OAAO+D,EAAahH,MAE/BrB,OAAM,SAACC,GAAD,OAAOC,QAAQC,IAAIF,QAC3B,CAACwD,EAAOtG,IAEX,IAAMoL,EAAY,WAChB,IPtBuBnF,EAAIrG,EOsBXa,OAAO2H,QAAQ,oCPtBRnC,EOwBVpG,EAAKqF,IPxBStF,EOwBJI,EAAIJ,MPvB7B4C,MAAM,GAAD,OAAIhB,EAAJ,wBAA2ByE,GAAM,CACpCxD,OAAQ,SACRqB,QAAS,CACP4D,cAAc,UAAD,OAAY9H,MAG1B8C,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBC,OAAM,SAACC,GAAD,OAAOC,QAAQC,IAAIF,OOiBrBJ,MAAK,SAACwB,GACL,GAAIA,EAAKiD,MACP,OAAOC,EAASlD,EAAKiD,OAErBpG,EAAMoF,SAAS,CACbhG,KAAMX,EACNY,QAAS,CAAER,MAAO,GAAIC,KAAM,MAE9BmB,aAAawF,WAAW,OACxBzF,EAAMsH,QAAQ9D,KAAK,QAGtB1B,OAAM,SAACC,GAAD,OAAOC,QAAQC,IAAIF,OAI1BuI,EAAS,WPpBS,IAAC5D,EAAQ6D,EAAU1L,EOqBzCoL,GAAW,IPrBYvD,EOsBZzH,EAAIH,KAAKqF,IPtBWoG,EOsBNzL,EAAKqF,IPtBWtF,EOsBNI,EAAIJ,MPrBzC4C,MAAM,GAAD,OAAIhB,EAAJ,gBAA2B,CAC9BiB,OAAQ,OACRqB,QAAS,CACP4D,cAAc,UAAD,OAAY9H,GACzB,eAAgB,oBAElBmE,KAAM7C,KAAK8C,UAAU,CAAEyD,SAAQ6D,eAE9B5I,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBC,OAAM,SAACC,GAAD,OAAOC,QAAQC,IAAIF,OOYoBJ,MAAK,SAACwB,GAClD,GAAIA,EAAKiD,MAAO,OAAOC,EAASlD,EAAKiD,OACrCnB,EAAQhG,EAAIH,KAAKqF,KAAKxC,MAAK,SAACwB,GAC1BlD,aAAawJ,QACX,MACAtJ,KAAK8C,UAAU,CACbpE,MAAOI,EAAIJ,MACXC,KAAMqE,KAGVnD,EAAMoF,SAAS,CACbhG,KAAMX,EACNY,QAAS,CACPR,MAAOI,EAAIJ,MACXC,KAAMqE,KAGV8G,GAAW,UAIXO,EAAW,WP/BS,IAAC9D,EAAQ+D,EAAY5L,EOgC7CoL,GAAW,IPhCcvD,EOiCZzH,EAAIH,KAAKqF,IPjCWsG,EOiCN3L,EAAKqF,IPjCatF,EOiCRI,EAAIJ,MPhC3C4C,MAAM,GAAD,OAAIhB,EAAJ,kBAA6B,CAChCiB,OAAQ,SACRqB,QAAS,CACP4D,cAAc,UAAD,OAAY9H,GACzB,eAAgB,oBAElBmE,KAAM7C,KAAK8C,UAAU,CAAEyD,SAAQ+D,iBAE9B9I,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBC,OAAM,SAACC,GAAD,OAAOC,QAAQC,IAAIF,OOuBsBJ,MAAK,SAACwB,GACpD,GAAIA,EAAKiD,MAAO,OAAOC,EAASlD,EAAKiD,OACrCnB,EAAQhG,EAAIH,KAAKqF,KAAKxC,MAAK,SAACwB,GACtBA,EAAKuH,MACTzK,aAAawJ,QACX,MACAtJ,KAAK8C,UAAU,CACbpE,MAAOI,EAAIJ,MACXC,KAAMqE,KAGVnD,EAAMoF,SAAS,CACbhG,KAAMX,EACNY,QAAS,CACPR,MAAOI,EAAIJ,MACXC,KAAMqE,KAIV8G,GAAW,WAuNjB,OACE,qBAAKrG,UAAU,YAAf,SACE,sBAAKA,UAAU,MAAf,UACE,qBAAKA,UAAU,cAAf,SACE,2CAEDwC,EACW,gBAAVA,EACE,qBAAKxC,UAAU,SAAf,SACE,sBAAKA,UAAU,qBAAf,UACGwC,EADH,SACe,cAAC,IAAD,CAAM/F,GAAG,SAAT,mBADf,cAKF,qBAAKuD,UAAU,SAAf,SACE,qBAAKA,UAAU,qBAAf,SAAqCwC,MAIzC,qCApON,qBAAKxC,UAAU,kBAAf,SACE,qBAAKA,UAAU,iBAAf,SACG9E,EAAKqF,IACJ,qBACEP,UAAU,gBACVmD,IAAG,UAAKtG,EAAL,uBAA2B3B,EAAKqF,KACnC6C,IAAI,KAGN,iBAMN,sBAAKpD,UAAU,kBAAf,UACE,sBAAKA,UAAU,eAAf,kBACQ,IACL9E,EAAK0F,KACJ,sBAAMZ,UAAU,eAAhB,SAAgC9E,EAAK0F,OAErC,gBAGJ,sBAAKZ,UAAU,eAAf,mBACS,IACN9E,EAAKsK,MACJ,sBAAMxF,UAAU,gBAAhB,SAAiC9E,EAAKsK,QAEtC,gBAGJ,sBAAKxF,UAAU,eAAf,uBACa,IACX,sBAAMA,UAAU,iBAAhB,SACG,IAAIhD,KAAK9B,EAAKwC,WAAWqJ,sBAG9B,sBAAK/G,UAAU,eAAf,mBACS,IACN9E,EAAKoJ,MACJ,qBAAKtE,UAAU,+BAAf,SAA+C9E,EAAKoJ,QAEpD,sBAAMtE,UAAU,cAAhB,uCAGHgG,EACC,sBAAKhG,UAAU,kDAAf,UACE,cAAC,IAAD,CAAMA,UAAU,0BAA0BvD,GAAE,eAA5C,yBAICvB,EAAKqF,KACJ,cAAC,IAAD,CACEP,UAAU,6BACVvD,GAAE,gBAAWvB,EAAKqF,KAFpB,0BAQF,wBAAQP,UAAU,4BAA4Ba,QAAS4F,EAAvD,+BAKFpL,EAAIH,KAAKqF,KACP,qBAAKP,UAAU,SAAf,cACckG,IAAXC,EACCA,EACE,mCACE,wBACEnG,UAAU,4BACVa,QAAS+F,EAFX,SAIG/B,EAAU,MAAQ,eAIvB,mCACE,wBACE7E,UAAU,6BACVa,QAAS6F,EAFX,SAIG7B,EAAU,MAAQ,aAKzB,kBAQV,sBAAK7E,UAAU,cAAf,UACE,oBAAIA,UAAU,QACd,qBAAIA,UAAU,iCAAd,UACE,qBAAKA,UAAU,mBAAf,SACE,qBAAIA,UAAU,YAAd,UACE,oBAAGA,UAAU,kCAAb,sBAEE,uBAAMA,UAAU,YAAhB,cACIsG,GAAaA,EAAU3I,OAD3B,UAIF,qBAAIqC,UAAU,2BAAd,UACGsG,EAAU3I,OAAS,GAClB2I,EAAUlG,MAAM,EAAG,IAAIC,KAAI,SAACC,GAAD,OACzB,qBAAiBN,UAAU,WAA3B,UACE,qBAAKA,UAAU,0CAAf,SACE,cAAC,IAAD,CACEvD,GAAE,gBAAW6D,EAAEC,KACfP,UAAU,6CACVQ,MAAO,CACLC,gBAAgB,OAAD,OAAS5D,EAAT,uBAA+ByD,EAAEC,IAAjC,UAIrB,uBAAMP,UAAU,oCAAhB,UACE,cAAC,IAAD,CAAMvD,GAAE,gBAAW6D,EAAEC,KAArB,SAA6BD,EAAEI,QAC/B,sBAAKV,UAAU,0BAAf,qBACWvC,EAAS6C,EAAE5C,mBAbjBZ,QAkBZwJ,GAAaA,EAAU3I,OAAS,IAC/B,qBAAKqC,UAAU,sBAAf,4CAOR,qBAAKA,UAAU,mBAAf,SACE,qBAAIA,UAAU,YAAd,UACE,oBAAGA,UAAU,mCAAb,2BAEE,uBAAMA,UAAU,YAAhB,cACI9E,EAAKsL,WAAatL,EAAKsL,UAAU7I,OADrC,UAIF,qBAAIqC,UAAU,2BAAd,UACG9E,EAAKsL,WACJtL,EAAKsL,UAAUpG,MAAM,EAAG,IAAIC,KAAI,SAACC,GAAD,OAC9B,qBAAiBN,UAAU,6BAA3B,UACE,qBAAKA,UAAU,uBAAf,SACE,cAAC,IAAD,CACEvD,GAAE,mBAAc6D,EAAEC,KAClBP,UAAU,uBACVQ,MAAO,CACLC,gBAAgB,OAAD,OAAS5D,EAAT,uBAA+ByD,EAAEC,IAAjC,UAIrB,sBAAMP,UAAU,oBAAhB,SACE,cAAC,IAAD,CAAMvD,GAAE,mBAAc6D,EAAEC,KAAxB,SAAgCD,EAAEM,WAX7B9D,QAeZ5B,EAAKsL,WAAatL,EAAKsL,UAAU7I,OAAS,IACzC,qBAAKqC,UAAU,sBAAf,gDAOR,qBAAKA,UAAU,mBAAf,SACE,qBAAIA,UAAU,YAAd,UACE,oBAAGA,UAAU,mCAAb,2BAEE,uBAAMA,UAAU,YAAhB,cACI9E,EAAK8L,WAAa9L,EAAK8L,UAAUrJ,OADrC,UAIF,qBAAIqC,UAAU,2BAAd,UACG9E,EAAK8L,WACJ9L,EAAK8L,UAAU5G,MAAM,EAAG,IAAIC,KAAI,SAACC,GAAD,OAC9B,qBAAiBN,UAAU,6BAA3B,UACE,qBAAKA,UAAU,uBAAf,SACE,cAAC,IAAD,CACEvD,GAAE,mBAAc6D,EAAEC,KAClBP,UAAU,uBACVQ,MAAO,CACLC,gBAAgB,OAAD,OAAS5D,EAAT,uBAA+ByD,EAAEC,IAAjC,UAIrB,sBAAMP,UAAU,oBAAhB,SACE,cAAC,IAAD,CAAMvD,GAAE,mBAAc6D,EAAEC,KAAxB,SAAgCD,EAAEM,WAX7B9D,QAeZ5B,EAAK8L,WAAa9L,EAAK8L,UAAUrJ,OAAS,IACzC,qBAAKqC,UAAU,sBAAf,yDAoCR,qBAAKA,UAAU,SAASQ,MAAO,CAAEY,aAAc,kBClQxC9C,eAFE,SAAChD,GAAD,MAAY,CAAED,IAAKC,EAAMD,OAET,KAAlBiD,EA9FA,SAAC,GAA4B,IAA1B3B,EAAyB,EAAzBA,SAAaP,EAAY,4BACnCpB,EAAO,CACXwK,MAAO,GACPC,SAAU,GACVjD,MAAO,GACPmC,SAAS,EACTE,SAAS,GAN8B,EAQftG,mBAASvD,GARM,mBAQlC+E,EARkC,KAQ3BgF,EAR2B,KASjCS,EAA6CzF,EAA7CyF,MAAOC,EAAsC1F,EAAtC0F,SAAUZ,EAA4B9E,EAA5B8E,QAASrC,EAAmBzC,EAAnByC,MAAOmC,EAAY5E,EAAZ4E,QAEnC9E,EAAS,SAAC1B,GACd4G,EAAS,2BAAKhF,GAAN,kBAAc5B,EAAE2B,OAAOc,KAAOzC,EAAE2B,OAAOC,UAG3Cf,EAAS,SAACb,GACdA,EAAEc,iBACF8F,EAAS,2BAAKhF,GAAN,IAAa8E,SAAS,KRrBT,SAACW,EAAOC,GAC/B,OAAO5H,MAAM,GAAD,OAAIhB,EAAJ,gBAA2B,CACrCiB,OAAQ,OACRqB,QAAS,CACP,eAAgB,oBAElBC,KAAM7C,KAAK8C,UAAU,CAAEmG,QAAOC,eAE7B1H,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBC,OAAM,SAACC,GAAD,OAAOC,QAAQC,IAAIF,MQa1B8I,CAAUzB,EAAOC,GACd1H,MAAK,SAACwB,GACDA,EAAKiD,MACPuC,EAAS,2BAAKhF,GAAN,IAAa8E,SAAS,EAAOrC,MAAOjD,EAAKiD,UAEjDuC,EAAS,2BAAK/J,GAAN,IAAY2J,SAAS,KAC7BvI,EAAMoF,SAAS,CAAEhG,KAAMX,EAAUY,QAAS8D,IAC1ClD,aAAawJ,QAAQ,MAAOtJ,KAAK8C,UAAUE,QAG9CrB,OAAM,SAACC,GAAD,OAAOC,QAAQC,IAAIF,OAiD9B,OACE,qBAAK6B,UAAU,YAAf,SACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,SAAf,UACE,oBAAIA,UAAU,OAAd,qBArCN,qCAAG6E,EAAU,oBAAI7E,UAAU,oBAAd,wBAAoD,GAAjE,OAZA,yCAAIwC,EAAQ,qBAAKxC,UAAU,qBAAf,SAAqCwC,IAAe,GAAhE,OAGA,mCACGmC,EACC,cAAC,IAAD,CAAUlI,GAAIE,EAASrB,MAAQqB,EAASrB,MAAMsB,KAAO,MAErD,KAQJ,uBAAMqD,SAAUjB,EAAhB,UACE,sBAAKgB,UAAU,aAAf,UACE,uBAAOsF,QAAQ,GAAGtF,UAAU,aAA5B,mBAGA,uBACExE,KAAK,QACLoF,KAAK,QACLZ,UAAU,eACVD,MAAOyF,EACPtF,SAAUL,OAGd,sBAAKG,UAAU,aAAf,UACE,uBAAOsF,QAAQ,GAAGtF,UAAU,aAA5B,sBAGA,uBACExE,KAAK,WACLoF,KAAK,WACLZ,UAAU,eACVD,MAAO0F,EACPvF,SAAUL,OAGd,wBAAQrE,KAAK,SAASwE,UAAU,6BAAhC,iCCoFS1B,G,MAAAA,aAJS,SAAChD,GAAD,MAAY,CAClCI,MAAOJ,EAAMI,SAGyB,KAAzB4C,EA3JA,SAAC,GAAyB,IAAvB5C,EAAsB,EAAtBA,MAAUU,EAAY,yBAChCpB,EAAO,CACX4F,KAAM,GACN4E,MAAO,GACPC,SAAU,GACVjD,MAAO,GACPkC,MAAO,GACPJ,MAAO,GACPK,SAAS,EACTE,SAAS,GAT2B,EAYXtG,mBAASvD,GAZE,mBAY/B8J,EAZ+B,KAYvBC,EAZuB,KAahCS,EAA0DV,EAA1DU,MAAOC,EAAmDX,EAAnDW,SAAUZ,EAAyCC,EAAzCD,QAASrC,EAAgCsC,EAAhCtC,MAAOmC,EAAyBG,EAAzBH,QAAS/D,EAAgBkE,EAAhBlE,KAAM0D,EAAUQ,EAAVR,MAbhB,EAeF/F,mBAAS,MAfP,mBAe/BmH,EAf+B,KAenBwB,EAfmB,KAgBtCjG,qBAAU,kBAAMiG,EAAc,IAAIjC,YAAa,IAE/C,IAAMpF,EAAS,SAAC1B,GACd,IAAMyC,EAAOzC,EAAE2B,OAAOc,KAChBb,EAAiB,UAATa,EAAmBzC,EAAE2B,OAAOoF,MAAM,GAAK/G,EAAE2B,OAAOC,MAC9D2F,EAAWP,IAAIvE,EAAMb,GACrBgF,EAAS,2BAAKD,GAAN,kBAAelE,EAAOb,KAC9B3B,QAAQC,IAAIyG,IAGR9F,EAAS,SAACb,GTnBO,IAACyG,ESoBtBzG,EAAEc,iBACFb,QAAQC,IAAIyG,GACZC,EAAS,2BAAKD,GAAN,IAAcD,SAAS,MTtBTD,ESuBZc,ETtBL7H,MAAM,GAAD,OAAIhB,EAAJ,gBAA2B,CACrCiB,OAAQ,OACRsB,KAAMwF,IAEL7G,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBC,OAAM,SAACC,GAAD,OAAOC,QAAQC,IAAIF,OSkBvBJ,MAAK,SAACwB,GACLnB,QAAQC,IAAIkB,GACRA,EAAKiD,MACPuC,EAAS,2BAAKD,GAAN,IAAcD,SAAS,EAAOrC,MAAOjD,EAAKiD,UAElDpG,EAAMoF,SAAS,CAAEhG,KAAMV,EAAcW,QAAQ,GAAD,mBAAMC,GAAN,CAAa6D,MACzDwF,EAAS,2BAAK/J,GAAN,IAAY2J,SAAS,SAGhCzG,OAAM,SAACC,GAAD,OAAOC,QAAQC,IAAIF,OAgG9B,OACE,qBAAK6B,UAAU,YAAf,SACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,SAAf,UACE,oBAAIA,UAAU,OAAd,SAAsB,YAzE5B,qCAAG6E,EAAU,oBAAI7E,UAAU,oBAAd,wBAAoD,GAAjE,OAvBA,yCAAIwC,EAAQ,qBAAKxC,UAAU,qBAAf,SAAqCwC,IAAe,GAAhE,OAGA,mCACGmC,EACC,qCACE,sBAAK3E,UAAU,gBAAf,UACE,oBAAIA,UAAU,cAAd,yBACA,sBAAKA,UAAU,YAAf,UACE,mBAAGA,UAAU,YAAb,kDACA,cAAC,IAAD,CAAMvD,GAAG,UAAUuD,UAAU,8BAA7B,2BAKJ,qBAAKA,UAAU,sBAGjB,KASJ,uBAAMC,SAAUjB,EAAhB,UACE,sBAAKgB,UAAU,aAAf,UACE,uBAAOsF,QAAQ,GAAGtF,UAAU,aAA5B,oBAGA,uBACExE,KAAK,OACLoF,KAAK,QACLV,SAAUL,EACVG,UAAU,yBAGd,sBAAKA,UAAU,aAAf,UACE,uBAAOsF,QAAQ,GAAGtF,UAAU,aAA5B,kBAGA,uBACExE,KAAK,OACLoF,KAAK,OACLZ,UAAU,eACVD,MAAOa,EACPV,SAAUL,OAGd,sBAAKG,UAAU,aAAf,UACE,uBAAOsF,QAAQ,GAAGtF,UAAU,aAA5B,mBAGA,uBACExE,KAAK,QACLoF,KAAK,QACLZ,UAAU,eACVD,MAAOyF,EACPtF,SAAUL,OAGd,sBAAKG,UAAU,aAAf,UACE,uBAAOsF,QAAQ,GAAGtF,UAAU,aAA5B,sBAGA,uBACExE,KAAK,WACLoF,KAAK,WACLZ,UAAU,eACVD,MAAO0F,EACPvF,SAAUL,OAGd,sBAAKG,UAAU,aAAf,UACE,uBAAOsF,QAAQ,GAAGtF,UAAU,aAA5B,4BAGA,0BACEuF,KAAK,KACL3E,KAAK,QACLZ,UAAU,eACVD,MAAOuE,EACPpE,SAAUL,OAGd,wBAAQrE,KAAK,SAASwE,UAAU,6BAAhC,kCCAS1B,eALS,SAAChD,GAAD,MAAY,CAClCD,IAAKC,EAAMD,IACXM,MAAOL,EAAMK,SAGyB,KAAzB2C,CAA+BiD,aArI3B,SAAC,GAAuB,IAArBlG,EAAoB,EAApBA,IAAQe,EAAY,uBAClCqI,EAAY,CAChB/D,MAAO,GACPtB,KAAM,GACNsF,MAAO,GACPlC,MAAO,GACPmC,SAAS,EACTC,SAAU,GACVC,SAAS,GAR6B,EAUbtG,mBAASkG,GAVI,mBAUjCK,EAViC,KAUzBC,EAVyB,OAWRxG,mBAAS,IAAI0G,UAXL,mBAWjCL,EAXiC,KAYhClE,GAZgC,KAYSoE,EAAzCpE,OAAOtB,EAAkC0F,EAAlC1F,KAAMuF,EAA4BG,EAA5BH,QAASnC,EAAmBsC,EAAnBtC,MAAOqC,EAAYC,EAAZD,QAErC5D,qBAAU,WACRnF,OAAOoF,SAAS,EAAG,GACnB,IAAM0B,EAAcxG,EAAMT,MAAM6C,MAC9B,SAAC8B,GAAD,OAAOA,EAAEC,MAAQnE,EAAMuF,MAAMe,OAAOC,UAGtC,IAAK,IAAIhD,KADToF,EAAS,2BAAKD,GAAWlC,IACXA,EACZgC,EAASO,IAAIxF,EAAGiD,EAAYjD,MAE7B,CAACtE,EAAKe,EAAMT,QAEf,IAAMkE,EAAS,SAAC1B,GACd,IAAMyC,EAAOzC,EAAE2B,OAAOc,KAChBb,EAAiB,UAATa,EAAmBzC,EAAE2B,OAAOoF,MAAM,GAAK/G,EAAE2B,OAAOC,MAC9D6E,EAASO,IAAIvE,EAAMb,GACnBgF,EAAS,2BAAKD,GAAN,kBAAelE,EAAOb,MAG1Bf,EAAS,SAACb,GACdA,EAAEc,iBACF2F,EAASO,IAAI,WAAY9J,EAAIH,KAAKqF,KAClCwE,EAAS,2BAAKD,GAAN,IAAcD,SAAS,KbtBT,SAACD,EAAUtD,EAAIrG,GAAf,OACxB4C,MAAM,GAAD,OAAIhB,EAAJ,wBAA2ByE,GAAM,CACpCxD,OAAQ,MACRqB,QAAS,CACP4D,cAAc,UAAD,OAAY9H,IAE3BmE,KAAMwF,IAEL7G,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBC,OAAM,SAACC,GAAD,OAAOC,QAAQC,IAAIF,Mac1BgJ,CAAWvC,EAAUxI,EAAMuF,MAAMe,OAAOC,OAAQtH,EAAIJ,OACjD8C,MAAK,SAACwB,GAEL,OADAnB,QAAQC,IAAIkB,GACRA,EAAKiD,MACAuC,EAAS,2BAAKD,GAAN,IAAcD,SAAS,EAAOrC,MAAOjD,EAAKiD,SACpDuC,EAAS,2BAAKN,GAAN,IAAiBE,SAAS,QAE1CzG,OAAM,SAACC,GAAD,OAAOC,QAAQC,IAAIF,OAoE9B,OACE,qBAAK6B,UAAU,YAAf,SACE,sBAAKA,UAAU,MAAf,UACE,qBAAKA,UAAU,SAAf,SACE,oBAAIA,UAAU,OAAd,2BAEF,sBAAKA,UAAU,SAAf,UAvEQ,WACZ,GAAIwC,EACF,MAAiB,gBAAVA,EACL,qCACGA,GACC,sBAAKxC,UAAU,qBAAf,UACGwC,EADH,SACe,cAAC,IAAD,CAAM/F,GAAG,UAAT,oBADf,YAGC,OAGL,qCAAG+F,GAAS,qBAAKxC,UAAU,qBAAf,SAAqCwC,IAAjD,OA6DG6C,GAzDP,qCAAGV,GAAW,qBAAK3E,UAAU,sBAAf,0BAAd,OAGA,qCAAG6E,EAAU,oBAAI7E,UAAU,oBAAd,wBAAoD,GAAjE,OAIA,mCACE,uBAAMC,SAAUjB,EAAhB,UACE,sBAAKgB,UAAU,aAAf,UACE,uBAAOsF,QAAQ,GAAGtF,UAAU,aAA5B,mBAGA,uBACExE,KAAK,OACLoF,KAAK,QACLZ,UAAU,oBACVE,SAAUL,OAGd,sBAAKG,UAAU,aAAf,UACE,uBAAOsF,QAAQ,GAAGtF,UAAU,aAA5B,mBAGA,uBACExE,KAAK,OACLoF,KAAK,QACLZ,UAAU,eACVE,SAAUL,EACVE,MAAOW,OAGX,sBAAKV,UAAU,aAAf,UACE,uBAAOsF,QAAQ,GAAGtF,UAAU,aAA5B,kBAGA,0BACEQ,MAAO,CAAE4G,WAAY,YACrBxG,KAAK,OACLZ,UAAU,eACVE,SAAUL,EACVE,MAAOX,OAGX,wBAAQ5D,KAAK,SAASwE,UAAU,6BAAhC,qCCrEOqH,MA3Bf,WACE,OACE,cAAC,IAAD,UACE,gCACE,cAAC,EAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,KAAK,IAAI1F,OAAK,EAAC2F,UAAWC,IACjC,cAAC,IAAD,CAAOF,KAAK,mBAAmBC,UAAWE,IAC1C,cAAC,IAAD,CAAOH,KAAK,UAAUC,UAAWG,IACjC,cAAC,IAAD,CAAOJ,KAAK,UAAUC,UAAWI,IACjC,cAAC,IAAD,CAAOL,KAAK,SAASC,UAAWK,IAChC,cAAC,EAAD,CAAcN,KAAK,gBAAnB,SACE,cAAC,EAAD,MAEF,cAAC,EAAD,CAAcA,KAAK,eAAnB,SACE,cAAC,EAAD,MAEF,cAAC,EAAD,CAAcA,KAAK,uBAAnB,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,gBAAgBC,UAAWM,aC5BjDC,IAAS3L,OACP,cAAC,IAAD,CAAUP,MAAOA,EAAjB,SACE,cAAC,EAAD,MAEFmM,SAASC,eAAe,W","file":"static/js/main.e6f6f306.chunk.js","sourcesContent":["export const GET_USER = \"GET_USER\";\r\nexport const GET_ALL_USER = \"GET_ALL_USER\";\r\nexport const GET_ALL_POST = \"GET_ALL_POST\";\r\n","import { GET_USER } from \"../actions/actionTypes\";\r\n\r\nconst init = { token: \"\", user: {} };\r\n\r\nexport const jwtReducer = (state = init, action) => {\r\n  switch (action.type) {\r\n    case GET_USER:\r\n      return { ...action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { GET_ALL_USER } from \"../actions/actionTypes\";\r\n\r\nconst init = [];\r\n\r\nexport const usersReducer = (state = init, action) => {\r\n  switch (action.type) {\r\n    case GET_ALL_USER:\r\n      return [...action.payload];\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { GET_ALL_POST } from \"../actions/actionTypes\";\r\n\r\nconst init = [];\r\n\r\nexport const postsReducer = (state = init, action) => {\r\n  switch (action.type) {\r\n    case GET_ALL_POST:\r\n      return [...action.payload];\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers, createStore } from \"redux\";\r\nimport { jwtReducer } from \"./reducers/jwtReducer\";\r\nimport { usersReducer } from \"./reducers/usersReducer\";\r\nimport { postsReducer } from \"./reducers/postsReducer\";\r\n\r\nconst reducers = combineReducers({\r\n  jwt: jwtReducer,\r\n  users: usersReducer,\r\n  posts: postsReducer,\r\n});\r\n\r\nexport const store = createStore(\r\n  reducers,\r\n  window.__REDUX_DEVTOOLS_EXTENSION__\r\n    ? window.__REDUX_DEVTOOLS_EXTENSION__ &&\r\n        window.__REDUX_DEVTOOLS_EXTENSION__()\r\n    : null\r\n);\r\n","import React from \"react\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\nimport { Auth } from \"./index\";\r\n\r\nconst PrivateRoute = ({ children, ...rest }) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        Auth() ? (\r\n          children\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: props.location.state ? props.location.state.prev : \"/\",\r\n              state: { prev: props.location.pathname },\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\n// const mapStateToProps = (state) => ({\r\n//   jwt: state.jwt,\r\n// });\r\n\r\nexport default PrivateRoute;\r\n","export const Auth = () => {\r\n  if (typeof window === \"undefined\") return false;\r\n  if (localStorage.getItem(\"jwt\"))\r\n    return JSON.parse(localStorage.getItem(\"jwt\"));\r\n  else return false;\r\n};\r\n","export const API_URL = \"https://easy-social-vuducvi.herokuapp.com/api\";\r\n","export const uuid = () => {\r\n  var dt = new Date().getTime();\r\n  var uuid = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (\r\n    c\r\n  ) {\r\n    var r = (dt + Math.random() * 16) % 16 | 0;\r\n    dt = Math.floor(dt / 16);\r\n    return (c === \"x\" ? r : (r & 0x3) | 0x8).toString(16);\r\n  });\r\n  return uuid;\r\n};\r\n\r\nexport const CalcTime = (createdAt) => {\r\n  const length = (new Date() - new Date(createdAt)) / 86400000;\r\n  if (length * 24 < 1)\r\n    return Math.floor(length * 24 * 60).toString() + \" minutes ago\";\r\n  if (length < 1) return Math.floor(length * 24).toString() + \" hours ago\";\r\n  if (length < 30) return Math.floor(length).toString() + \" days ago\";\r\n  if (length > 30) return Math.floor(length / 30).toString() + \" months ago\";\r\n};\r\n","import { API_URL } from \"../config\";\r\n\r\nexport const getPosts = () =>\r\n  fetch(`${API_URL}/post/posts`, { method: \"GET\" })\r\n    .then((res) => res.json())\r\n    .catch((e) => console.log(e));\r\n\r\nexport const postPost = (formData, token) =>\r\n  fetch(`${API_URL}/post/create`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: formData,\r\n  })\r\n    .then((res) => res.json())\r\n    .catch((e) => console.log(e));\r\n\r\nexport const updatePost = (formData, id, token) =>\r\n  fetch(`${API_URL}/post/update/${id}`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: formData,\r\n  })\r\n    .then((res) => res.json())\r\n    .catch((e) => console.log(e));\r\n\r\nexport const deletePost = (id, token) =>\r\n  fetch(`${API_URL}/post/delete/${id}`, {\r\n    method: \"DELETE\",\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((res) => res.json())\r\n    .catch((e) => console.log(e));\r\n\r\nexport const likePost = (userId, postId, token) =>\r\n  fetch(`${API_URL}/post/like`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      \"Content-type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({ userId, postId }),\r\n  })\r\n    .then((res) => res.json())\r\n    .catch((e) => console.log(e));\r\n\r\nexport const unlikePost = (userId, postId, token) =>\r\n  fetch(`${API_URL}/post/unlike`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      \"Content-type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({ userId, postId }),\r\n  })\r\n    .then((res) => res.json())\r\n    .catch((e) => console.log(e));\r\n\r\nexport const commentPost = (userId, postId, text, token) =>\r\n  fetch(`${API_URL}/post/comment`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      \"Content-type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({ text, userId, postId }),\r\n  })\r\n    .then((res) => res.json())\r\n    .catch((e) => console.log(e));\r\n\r\nexport const uncommentPost = (userId, postId, text, token) =>\r\n  fetch(`${API_URL}/post/uncomment`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      \"Content-type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({ text, userId, postId }),\r\n  })\r\n    .then((res) => res.json())\r\n    .catch((e) => console.log(e));\r\n\r\nexport const findPost = (find) =>\r\n  fetch(`${API_URL}/post/find`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ find }),\r\n  })\r\n    .then((res) => res.json())\r\n    .catch((e) => console.log(e));\r\n","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { API_URL } from \"../config\";\r\nimport { CalcTime, uuid } from \"../user/uuid\";\r\nimport { findPost } from \"./apiPost\";\r\n\r\nconst FindPost = ({ jwt, ...props }) => {\r\n  const [find, setFind] = useState(\"\");\r\n  const [result, setResult] = useState([]);\r\n  const [pages, setPages] = useState([]);\r\n  const [pagination, setPagination] = useState(1);\r\n\r\n  const renderPost = () => (\r\n    <>\r\n      <div className=\"col-12 d-flex\">\r\n        <div className=\"card-columns\">\r\n          {result.length !== 0 &&\r\n            result.slice((pagination - 1) * 3, pagination * 3).map((p) => (\r\n              <div\r\n                key={uuid()}\r\n                //  className=\"col-sm-6 col-md-4 col-lg-3 mb-3\"\r\n              >\r\n                <div className=\"card\">\r\n                  <Link to={`/post/${p._id}`}>\r\n                    <div\r\n                      className=\"img-post\"\r\n                      style={{\r\n                        backgroundImage: `url(${API_URL}/post/photo/${p._id})`,\r\n                      }}\r\n                    ></div>\r\n                  </Link>\r\n                  <div className=\"card-body\">\r\n                    <h5 className=\"card-title\">\r\n                      {p.title.length > 50\r\n                        ? p.title.slice(0, 100) + \" ...more\"\r\n                        : p.title}\r\n                    </h5>\r\n\r\n                    <p className=\"card-text\">\r\n                      {p.body.length > 50\r\n                        ? p.body.slice(0, 100) + \" ...more\"\r\n                        : p.body}\r\n                    </p>\r\n                    <div className=\"post-footer py-2 d-flex justify-content-between\">\r\n                      <h6 className=\" small m-0 text-muted\">\r\n                        Posted by{\" \"}\r\n                        <Link to={`/profile/${p.postedBy._id}`}>\r\n                          {p.postedBy.name}\r\n                        </Link>\r\n                      </h6>\r\n                      <h6 className=\"small m-0 text-muted\">\r\n                        {CalcTime(p.createdAt)}\r\n                      </h6>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n\r\n  const Submit = (e) => {\r\n    e.preventDefault();\r\n    if (!find.trim()) return setResult([]);\r\n    findPost(find)\r\n      .then((data) => {\r\n        setResult(data);\r\n        console.log(data);\r\n        let arr = [];\r\n        let sl = Math.ceil(data.length / 3);\r\n        for (let i = 1; i < sl + 1; i++) arr.push(i);\r\n        setPages(arr);\r\n      })\r\n      .catch((e) => console.log(e));\r\n  };\r\n  const Change = (e) => setFind(e.target.value);\r\n\r\n  const form = () => (\r\n    <>\r\n      <form onSubmit={Submit}>\r\n        <div className=\"input-group mb-3\">\r\n          <input\r\n            onChange={Change}\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"Title post...\"\r\n          />\r\n          <div className=\"input-group-append\">\r\n            <button className=\"btn btn-outline-secondary ml-3\" type=\"submit\">\r\n              Find Post\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <div className=\"col-12\">\r\n        <div className=\"mb-4\">{form()}</div>\r\n      </div>\r\n\r\n      {renderPost()}\r\n      {result.length !== 0 && (\r\n        <>\r\n          <div className=\"col-12 d-flex justify-content-center\">\r\n            <ul className=\"pagination \">\r\n              <li\r\n                onClick={(e) => {\r\n                  if (pagination === 1) return;\r\n                  else setPagination(pagination - 1);\r\n                }}\r\n                style={{ padding: \".5rem 1rem\" }}\r\n                className=\"page-item page-link cursor\"\r\n              >\r\n                Previous\r\n              </li>\r\n\r\n              {pages.map((p) =>\r\n                p === pagination ? (\r\n                  <li\r\n                    onClick={(e) => {\r\n                      setPagination(p);\r\n                    }}\r\n                    className=\"page-item page-link cursor\"\r\n                    style={{\r\n                      backgroundColor: \"#3f51b5\",\r\n                      color: \"#fff\",\r\n                      padding: \".5rem 1rem\",\r\n                    }}\r\n                    key={uuid()}\r\n                  >\r\n                    {p}\r\n                  </li>\r\n                ) : (\r\n                  <li\r\n                    onClick={(e) => {\r\n                      setPagination(p);\r\n                    }}\r\n                    className=\"page-item page-link cursor\"\r\n                    style={{ padding: \".5rem 1rem\" }}\r\n                    key={uuid()}\r\n                  >\r\n                    {p}\r\n                  </li>\r\n                )\r\n              )}\r\n\r\n              <li\r\n                onClick={(e) => {\r\n                  if (pagination === pages.length) return;\r\n                  else setPagination(pagination + 1);\r\n                }}\r\n                style={{ padding: \".5rem 1rem\" }}\r\n                className=\"page-item page-link cursor\"\r\n              >\r\n                Next\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  jwt: state.jwt,\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(FindPost);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport FindPost from \"../post/FindPost\";\r\nimport { API_URL } from \"./../config\";\r\nimport { CalcTime, uuid } from \"./../user/uuid\";\r\n\r\nfunction Home({ posts, ...props }) {\r\n  const [pages, setPages] = useState([]);\r\n  const [pagination, setPagination] = useState(1);\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n    const temp = Math.ceil(posts.length / 8);\r\n    const res = [];\r\n    for (let i = 1; i < temp + 1; i++) res.push(i);\r\n    setPages(res);\r\n  }, [posts]);\r\n\r\n  const renderPost = () => (\r\n    <>\r\n      <div className=\"col-12 d-flex\">\r\n        <div className=\"card-columns\">\r\n          {posts.length !== 0 &&\r\n            posts.slice((pagination - 1) * 8, pagination * 8).map((p) => (\r\n              <div\r\n                key={uuid()}\r\n                //  className=\"col-sm-6 col-md-4 col-lg-3 mb-3\"\r\n              >\r\n                <div className=\"card\">\r\n                  <Link to={`/post/${p._id}`}>\r\n                    <div\r\n                      className=\"img-post\"\r\n                      style={{\r\n                        backgroundImage: `url(${API_URL}/post/photo/${p._id})`,\r\n                      }}\r\n                    ></div>\r\n                  </Link>\r\n                  <div className=\"card-body\">\r\n                    <h5 className=\"card-title\">\r\n                      {p.title.length > 50\r\n                        ? p.title.slice(0, 100) + \" ...more\"\r\n                        : p.title}\r\n                    </h5>\r\n\r\n                    <p className=\"card-text\">\r\n                      {p.body.length > 50\r\n                        ? p.body.slice(0, 100) + \" ...more\"\r\n                        : p.body}\r\n                    </p>\r\n                    <div className=\"post-footer py-2 d-flex justify-content-between\">\r\n                      <h6 className=\" small m-0 text-muted\">\r\n                        Posted by{\" \"}\r\n                        <Link to={`/profile/${p.postedBy._id}`}>\r\n                          {p.postedBy.name}\r\n                        </Link>\r\n                      </h6>\r\n                      <h6 className=\"small m-0 text-muted\">\r\n                        {CalcTime(p.createdAt)}\r\n                      </h6>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          {/* .col-sm-6.col-md-4.col-lg-3.mb-3 */}\r\n          <FindPost />\r\n          <div className=\"col-12\">\r\n            <h2 className=\"mb-4\">New Post</h2>\r\n          </div>\r\n          {renderPost()}\r\n        </div>\r\n        <div className=\"col-12 d-flex justify-content-center\">\r\n          <ul className=\"pagination \">\r\n            <li\r\n              onClick={(e) => {\r\n                if (pagination === 1) return;\r\n                else setPagination(pagination - 1);\r\n              }}\r\n              style={{ padding: \".5rem 1rem\" }}\r\n              className=\"page-item page-link cursor\"\r\n            >\r\n              Previous\r\n            </li>\r\n\r\n            {pages.map((p) =>\r\n              p === pagination ? (\r\n                <li\r\n                  onClick={(e) => {\r\n                    setPagination(p);\r\n                  }}\r\n                  className=\"page-item page-link cursor\"\r\n                  style={{\r\n                    backgroundColor: \"#3f51b5\",\r\n                    color: \"#fff\",\r\n                    padding: \".5rem 1rem\",\r\n                  }}\r\n                  key={uuid()}\r\n                >\r\n                  {p}\r\n                </li>\r\n              ) : (\r\n                <li\r\n                  onClick={(e) => {\r\n                    setPagination(p);\r\n                  }}\r\n                  className=\"page-item page-link cursor\"\r\n                  style={{ padding: \".5rem 1rem\" }}\r\n                  key={uuid()}\r\n                >\r\n                  {p}\r\n                </li>\r\n              )\r\n            )}\r\n\r\n            <li\r\n              onClick={(e) => {\r\n                if (pagination === pages.length) return;\r\n                else setPagination(pagination + 1);\r\n              }}\r\n              style={{ padding: \".5rem 1rem\" }}\r\n              className=\"page-item page-link cursor\"\r\n            >\r\n              Next\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <div className=\"col-12\" style={{ marginBottom: \"4rem\" }}></div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nconst mapstate = (state) => ({ posts: state.posts });\r\n\r\nexport default connect(mapstate, null)(Home);\r\n","import { API_URL } from \"../config\";\r\n\r\nexport const signinAPI = (email, password) => {\r\n  return fetch(`${API_URL}/user/signin`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  })\r\n    .then((res) => res.json())\r\n    .catch((e) => console.log(e));\r\n};\r\n\r\nexport const signupAPI = (formData) => {\r\n  return fetch(`${API_URL}/user/signup`, {\r\n    method: \"POST\",\r\n    body: formData,\r\n  })\r\n    .then((res) => res.json())\r\n    .catch((e) => console.log(e));\r\n};\r\n\r\nexport const getUsers = () =>\r\n  fetch(`${API_URL}/user/users`, { method: \"GET\" })\r\n    .then((res) => res.json())\r\n    .catch((e) => console.log(e));\r\n\r\nexport const getUser = (id) =>\r\n  fetch(`${API_URL}/user/${id}`, { method: \"GET\" })\r\n    .then((res) => res.json())\r\n    .catch((e) => console.log(e));\r\n\r\nexport const deleteUser = (id, token) =>\r\n  fetch(`${API_URL}/user/delete/${id}`, {\r\n    method: \"DELETE\",\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((res) => res.json())\r\n    .catch((e) => console.log(e));\r\n\r\nexport const updateUser = (id, token, form) =>\r\n  fetch(`${API_URL}/user/update/${id}`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: form,\r\n  })\r\n    .then((res) => res.json())\r\n    .catch((e) => console.log(e));\r\n\r\nexport const followUser = (userId, followId, token) =>\r\n  fetch(`${API_URL}/user/follow`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n      \"Content-type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ userId, followId }),\r\n  })\r\n    .then((res) => res.json())\r\n    .catch((e) => console.log(e));\r\n\r\nexport const unfollowUser = (userId, unfollowId, token) =>\r\n  fetch(`${API_URL}/user/unfollow`, {\r\n    method: \"DELETE\",\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n      \"Content-type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ userId, unfollowId }),\r\n  })\r\n    .then((res) => res.json())\r\n    .catch((e) => console.log(e));\r\n\r\nexport const getUserPosts = (id) =>\r\n  fetch(`${API_URL}/post/by/${id}`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((res) => res.json())\r\n    .catch((e) => console.log(e));\r\n\r\nexport const findUser = (find) =>\r\n  fetch(`${API_URL}/user/find`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ find }),\r\n  })\r\n    .then((res) => res.json())\r\n    .catch((e) => console.log(e));\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link, NavLink, useLocation, withRouter } from \"react-router-dom\";\r\nimport {\r\n  GET_ALL_POST,\r\n  GET_ALL_USER,\r\n  GET_USER,\r\n} from \"../redux/actions/actionTypes\";\r\nimport { getUsers } from \"../user/apiUser\";\r\nimport { getPosts } from \"./../post/apiPost\";\r\n\r\nconst Menu = ({ jwt, dispatch, ...props }) => {\r\n  const [clickBar, setClickBar] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // get users redux\r\n    getUsers()\r\n      .then((data) => {\r\n        dispatch({ type: GET_ALL_USER, payload: data });\r\n      })\r\n      .catch((e) => console.log(e));\r\n\r\n    // get posts redux\r\n    getPosts()\r\n      .then((data) => {\r\n        dispatch({ type: GET_ALL_POST, payload: data });\r\n      })\r\n      .catch((e) => console.log(e));\r\n\r\n    if (localStorage.getItem(\"jwt\")) {\r\n      dispatch({\r\n        type: GET_USER,\r\n        payload: JSON.parse(localStorage.getItem(\"jwt\")),\r\n      });\r\n    }\r\n  }, [props.match]);\r\n\r\n  return (\r\n    <>\r\n      <nav className=\"nav nav-tabs bg-primary justify-content-start mb-5 pos-stick nav-pc\">\r\n        <NavLink exact={true} className=\"nav-link p-3\" to=\"/\">\r\n          Home\r\n        </NavLink>\r\n        <NavLink className=\"nav-link p-3\" to=\"/users\">\r\n          users\r\n        </NavLink>\r\n        {!jwt.user._id ? (\r\n          <>\r\n            <NavLink className=\"nav-link p-3\" to=\"/signup\">\r\n              Sign up\r\n            </NavLink>\r\n            <NavLink className=\"nav-link p-3\" to=\"/signin\">\r\n              Sign in\r\n            </NavLink>\r\n          </>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        {jwt.user._id && (\r\n          <>\r\n            <NavLink to={`/post/create`} className=\"nav-link p-3\">\r\n              Create Post\r\n            </NavLink>\r\n            <NavLink to={`/profile/${jwt.user._id}`} className=\"nav-link p-3\">\r\n              Profile\r\n            </NavLink>\r\n            <Link\r\n              to=\"/\"\r\n              onClick={() => {\r\n                localStorage.removeItem(\"jwt\");\r\n                dispatch({ type: GET_USER, payload: { jwt: \"\", user: {} } });\r\n              }}\r\n              className=\"nav-link p-3 cursor\"\r\n            >\r\n              Sign out\r\n            </Link>\r\n          </>\r\n        )}\r\n      </nav>\r\n      <nav className=\"nav nav-tabs bg-primary justify-content-start flex-column mb-5 pos-stick nav-mobile\">\r\n        <li\r\n          className=\"fa fa-bars nav-link cursor ml-auto p-2\"\r\n          onClick={() => setClickBar(!clickBar)}\r\n        ></li>\r\n\r\n        {clickBar && (\r\n          <nav className=\"nav d-inline nav-tabs bg-primary\">\r\n            <NavLink exact={true} className=\"nav-link p-3\" to=\"/\">\r\n              Home\r\n            </NavLink>\r\n            <NavLink className=\"nav-link p-3\" to=\"/users\">\r\n              users\r\n            </NavLink>\r\n            {!jwt.user._id ? (\r\n              <>\r\n                <NavLink className=\"nav-link p-3\" to=\"/signup\">\r\n                  Sign up\r\n                </NavLink>\r\n                <NavLink className=\"nav-link p-3\" to=\"/signin\">\r\n                  Sign in\r\n                </NavLink>\r\n              </>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n            {jwt.user._id && (\r\n              <>\r\n                <NavLink to={`/post/create`} className=\"nav-link p-3\">\r\n                  Create Post\r\n                </NavLink>\r\n                <NavLink\r\n                  to={`/profile/${jwt.user._id}`}\r\n                  className=\"nav-link p-3\"\r\n                >\r\n                  Profile\r\n                </NavLink>\r\n                <Link\r\n                  to=\"/\"\r\n                  onClick={() => {\r\n                    localStorage.removeItem(\"jwt\");\r\n                    dispatch({\r\n                      type: GET_USER,\r\n                      payload: { jwt: \"\", user: {} },\r\n                    });\r\n                  }}\r\n                  className=\"nav-link p-3 cursor\"\r\n                >\r\n                  Sign out\r\n                </Link>\r\n              </>\r\n            )}\r\n          </nav>\r\n        )}\r\n      </nav>\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({ jwt: state.jwt });\r\n\r\nexport default connect(mapStateToProps, null)(withRouter(Menu));\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { API_URL } from \"../config\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { CalcTime, uuid } from \"../user/uuid\";\r\nimport {\r\n  commentPost,\r\n  deletePost,\r\n  likePost,\r\n  uncommentPost,\r\n  unlikePost,\r\n} from \"../post/apiPost\";\r\nimport { getPosts } from \"../post/apiPost\";\r\nimport { GET_ALL_POST } from \"../redux/actions/actionTypes\";\r\n\r\nconst Post = ({ posts, match, ...props }) => {\r\n  const [post, setPost] = useState({});\r\n  const [requireSignin, setRequireSignin] = useState(false);\r\n  const [signinToComment, setSigninToComment] = useState(false);\r\n  const [text, setText] = useState(\"\");\r\n  const [showImg, setShowImg] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n    const id = match.params.postId;\r\n    if (posts.length !== 0) {\r\n      const currentPost = posts.find((p) => p._id === id);\r\n      console.log(currentPost);\r\n      setPost(currentPost);\r\n    }\r\n  }, [match.params, posts]);\r\n\r\n  const Loading = () => (\r\n    <div className=\"d-flex align-items-center loading h-100\">\r\n      <h4 className=\"text-center w-100\">Loading...</h4>\r\n    </div>\r\n  );\r\n\r\n  const imgPost = () => (\r\n    <div className=\"container-title cursor\">\r\n      {post._id ? (\r\n        <>\r\n          <img\r\n            src={`${API_URL}/post/photo/${post._id}`}\r\n            alt={post.name}\r\n            onClick={() => setShowImg(true)}\r\n          />\r\n        </>\r\n      ) : (\r\n        Loading()\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  const showFullImage = () =>\r\n    showImg && (\r\n      <>\r\n        <div className=\"contain-full-img\">\r\n          <div className=\"full-img\" style={{ position: \"relative\" }}>\r\n            <img\r\n              src={`${API_URL}/post/photo/${post._id}`}\r\n              alt={post.name}\r\n            ></img>\r\n            <i\r\n              className=\"fa fa-close close-img cursor\"\r\n              onClick={() => setShowImg(false)}\r\n            />\r\n          </div>\r\n          <div className=\"overlay\" onClick={() => setShowImg(false)}></div>\r\n        </div>\r\n      </>\r\n    );\r\n\r\n  const Like = () => {\r\n    if (props.jwt && !props.jwt.user._id) return setRequireSignin(true);\r\n    if (!post.likes.find((p) => p === props.jwt.user._id))\r\n      likePost(props.jwt.user._id, post._id, props.jwt.token)\r\n        .then((data) => {\r\n          if (data.error) return setError(data.error);\r\n          else return setPost(data);\r\n        })\r\n        .catch((e) => console.log(e));\r\n    else\r\n      unlikePost(props.jwt.user._id, post._id, props.jwt.token)\r\n        .then((data) => {\r\n          if (data.error) return setError(data.error);\r\n          else return setPost(data);\r\n        })\r\n        .catch((e) => console.log(e));\r\n  };\r\n\r\n  const Uncomment = (text) => {\r\n    uncommentPost(props.jwt.user._id, post._id, text, props.jwt.token)\r\n      .then((data) => {\r\n        if (data.error) return setError(data.error);\r\n        else return setPost(data);\r\n      })\r\n      .catch((e) => console.log(e));\r\n  };\r\n\r\n  const Submit = (e) => {\r\n    e.preventDefault();\r\n    if (props.jwt && !props.jwt.user._id) return setSigninToComment(true);\r\n\r\n    commentPost(props.jwt.user._id, post._id, text, props.jwt.token).then(\r\n      (data) => {\r\n        if (data.error) return setError(data.error);\r\n        else {\r\n          setText(\"\");\r\n          return setPost(data);\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  const formComment = () => (\r\n    <form onSubmit={Submit}>\r\n      <div className=\"form-group mt-3\">\r\n        <textarea\r\n          type=\"text\"\r\n          onChange={(e) => setText(e.target.value)}\r\n          value={text}\r\n          className=\"form-control\"\r\n          placeholder=\"Type here\"\r\n        />\r\n      </div>\r\n      <button type=\"submit\" className=\"btn btn-primary btn-raised\">\r\n        Submit\r\n      </button>\r\n    </form>\r\n  );\r\n\r\n  const redirectSigninLike = () =>\r\n    requireSignin && (\r\n      <div className=\"alert alert-warning p-2 mt-2\">\r\n        You haven't\r\n        <Link to=\"/signin\"> signin</Link>\r\n      </div>\r\n    );\r\n\r\n  const redirectSigninComment = () =>\r\n    signinToComment && (\r\n      <div className=\"alert alert-warning p-2 m-0\">\r\n        You haven't\r\n        <Link to=\"/signin\"> signin</Link>\r\n      </div>\r\n    );\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      {showFullImage()}\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <h3\r\n            className=\"display-3\"\r\n            style={{\r\n              wordBreak: \"break-word\",\r\n              lineHeight: 0.8,\r\n              marginBottom: \"1rem\",\r\n            }}\r\n          >\r\n            {post._id ? post.title : \"Loading...\"}\r\n          </h3>\r\n        </div>\r\n        <div className=\"col-12\">{imgPost()}</div>\r\n        <div className=\"col-12\">\r\n          <div className=\"like-post my-3\">\r\n            <span className=\"like\">\r\n              {post._id && post.likes.length}{\" \"}\r\n              <i\r\n                onClick={Like}\r\n                className=\"fa fa-thumbs-up cursor border-circle text-success bg-dark p-2\"\r\n              />\r\n            </span>\r\n            {redirectSigninLike()}\r\n          </div>\r\n          {error && (\r\n            <div className=\"alert alert-danger my-3 mb-0\">\r\n              {error}, try <Link to=\"/signin\">signin</Link> again\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"col-12\">\r\n          <div className=\"container-body bg-white p-3 \">\r\n            {post._id ? post.body : \"Loading...\"}\r\n          </div>\r\n        </div>\r\n        <div className=\"col-12\">\r\n          {post._id && (\r\n            <div className=\"container-postedBy mt-4\">\r\n              Posted by{\" \"}\r\n              <Link to={`/profile/${post.postedBy._id}`}>\r\n                {post.postedBy.name}\r\n              </Link>{\" \"}\r\n              on {CalcTime(post.createdAt)}\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"col-12\">\r\n          <div className=\"mt-3 d-flex button-container-post justify-content-between\">\r\n            <Link to=\"/\" className=\"btn btn-raised btn-primary\">\r\n              Back to posts\r\n            </Link>\r\n            {post._id && props.jwt && props.jwt.user._id === post.postedBy._id && (\r\n              <>\r\n                <Link\r\n                  className=\"btn btn-raised btn-warning\"\r\n                  to={`/post/update/${post._id}`}\r\n                >\r\n                  Update post\r\n                </Link>\r\n                <button\r\n                  className=\"btn btn-raised btn-danger\"\r\n                  onClick={() => {\r\n                    const confirm = window.confirm(\"Delete this post?\");\r\n                    if (confirm)\r\n                      deletePost(post._id, props.jwt.token).then((data) => {\r\n                        if (data.error) setError(data.error);\r\n                        else {\r\n                          getPosts()\r\n                            .then((data) => {\r\n                              props.dispatch({\r\n                                type: GET_ALL_POST,\r\n                                payload: data,\r\n                              });\r\n                            })\r\n                            .catch((e) => console.log(e));\r\n                          props.history.push(\"/\");\r\n                        }\r\n                      });\r\n                  }}\r\n                >\r\n                  Delete post\r\n                </button>{\" \"}\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"col-12\">\r\n          <h3 className=\"leave-comment\">Leave a comment</h3>\r\n          {redirectSigninComment()}\r\n        </div>\r\n        <div className=\"col-12\">\r\n          <div className=\"comment-post\">{formComment()}</div>\r\n        </div>\r\n        <div className=\"col-12\">\r\n          <ul className=\"list-group bmd-list-group-sm\">\r\n            {post.comments &&\r\n              post.comments.slice(0, 100).map((p) => (\r\n                <div className=\"list-group-item comment\" key={uuid()}>\r\n                  <div className=\"bmd-list-group-col\">\r\n                    <p className=\"list-group-item-heading\">{p.text}</p>\r\n                    <div className=\"list-group-item-text\">\r\n                      Posted by{\" \"}\r\n                      <Link to={`/profile/${p.user._id}`}>{p.user.name}</Link>{\" \"}\r\n                      {CalcTime(p.createdAt)}\r\n                      {props.jwt.user && props.jwt.user._id === p.user._id && (\r\n                        <span\r\n                          className=\"ml-3 cursor text-danger\"\r\n                          onClick={() => Uncomment(p.text)}\r\n                        >\r\n                          delete\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n          </ul>\r\n        </div>\r\n        <div className=\"col-12\" style={{ marginBottom: \"5rem\" }}>\r\n          {post.comments && post.comments.length > 100 && (\r\n            <div className=\"alert alert-danger\">Reach maximum 100 comments</div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  posts: state.posts,\r\n  jwt: state.jwt,\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(Post);\r\n","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { API_URL } from \"../config\";\r\nimport { findUser } from \"../user/apiUser\";\r\nimport { CalcTime, uuid } from \"../user/uuid\";\r\n\r\nconst FindUser = ({ jwt, users, ...props }) => {\r\n  const [find, setFind] = useState(\"\");\r\n  const [result, setResult] = useState([]);\r\n  const [pages, setPages] = useState([]);\r\n  const [pagination, setPagination] = useState(1);\r\n\r\n  const listUser = (pos) => {\r\n    const arr =\r\n      pos === \"left\"\r\n        ? result.slice((pagination - 1) * 10, (pagination - 1) * 10 + 5)\r\n        : result.slice((pagination - 1) * 10 + 5, (pagination - 1) * 10 + 10);\r\n\r\n    return (\r\n      <>\r\n        {arr.map((p) => (\r\n          <div\r\n            key={p._id}\r\n            className=\"list-group-item list-group-item-action flex-row d-flex align-items-start\"\r\n            style={{ flexFlow: \"nowrap\" }}\r\n          >\r\n            <div style={{ flexBasis: \"20%\", flexShrink: 0 }}>\r\n              <Link to={`/profile/${p._id}`} className=\"w-100\">\r\n                <div\r\n                  className=\"avatar-users\"\r\n                  style={{\r\n                    backgroundImage: `url(${API_URL}/user/photo/${p._id})`,\r\n                    backgroundPosition: \"center\",\r\n                    backgroundSize: \"cover\",\r\n                    width: \"100%\",\r\n                    paddingTop: \"100%\",\r\n                  }}\r\n                ></div>\r\n              </Link>\r\n            </div>\r\n            <div style={{ flexGrow: \"1\" }}>\r\n              <div className=\"d-flex w-100 justify-content-between align-items-center\">\r\n                <h5 className=\"mb-1 font-weight-bold text-primary\">\r\n                  <Link to={`/profile/${p._id}`}> {p.name}</Link>\r\n                </h5>\r\n                <small className=\"about-user\">\r\n                  <p className=\"small m-0\">\r\n                    join&nbsp;\r\n                    {CalcTime(p.createdAt)}\r\n                  </p>\r\n                </small>\r\n              </div>\r\n              <p>\r\n                {p.about ? (\r\n                  p.about.length > 200 ? (\r\n                    p.about.slice(0, 200) + \"...\"\r\n                  ) : (\r\n                    p.about\r\n                  )\r\n                ) : (\r\n                  <small className=\"font-italic font-weight-light\">\r\n                    Not found user's about\r\n                  </small>\r\n                )}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </>\r\n    );\r\n  };\r\n\r\n  const Submit = (e) => {\r\n    e.preventDefault();\r\n    if (!find.trim()) return setResult([]);\r\n    findUser(find)\r\n      .then((data) => {\r\n        setResult(data);\r\n        console.log(data);\r\n        let arr = [];\r\n        let sl = Math.ceil(data.length / 10);\r\n        for (let i = 1; i < sl + 1; i++) arr.push(i);\r\n        setPages(arr);\r\n      })\r\n      .catch((e) => console.log(e));\r\n  };\r\n  const Change = (e) => setFind(e.target.value);\r\n\r\n  const form = () => (\r\n    <>\r\n      <form onSubmit={Submit}>\r\n        <div className=\"input-group mb-3\">\r\n          <input\r\n            onChange={Change}\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"Name or email ...\"\r\n          />\r\n          <div className=\"input-group-append\">\r\n            <button className=\"btn btn-outline-secondary ml-3\" type=\"submit\">\r\n              Find user\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <div className=\"col-12\">\r\n        <div className=\"mb-4\">{form()}</div>\r\n      </div>\r\n\r\n      {result.length !== 0 && (\r\n        <>\r\n          <div className=\"col-12 col-md-6 pr-5-md\">\r\n            <div className=\"list-group\">{listUser(\"left\")}</div>\r\n          </div>\r\n          <div className=\"col-12 col-md-6 pl-5-md\">\r\n            <div className=\"list-group\">{listUser(\"right\")}</div>\r\n          </div>\r\n          <div className=\"col-12 d-flex justify-content-center\">\r\n            <ul className=\"pagination \">\r\n              <li\r\n                onClick={(e) => {\r\n                  if (pagination === 1) return;\r\n                  else setPagination(pagination - 1);\r\n                }}\r\n                style={{ padding: \".5rem 1rem\" }}\r\n                className=\"page-item page-link cursor\"\r\n              >\r\n                Previous\r\n              </li>\r\n\r\n              {pages.map((p) =>\r\n                p === pagination ? (\r\n                  <li\r\n                    onClick={(e) => {\r\n                      setPagination(p);\r\n                    }}\r\n                    className=\"page-item page-link cursor\"\r\n                    style={{\r\n                      backgroundColor: \"#3f51b5\",\r\n                      color: \"#fff\",\r\n                      padding: \".5rem 1rem\",\r\n                    }}\r\n                    key={uuid()}\r\n                  >\r\n                    {p}\r\n                  </li>\r\n                ) : (\r\n                  <li\r\n                    onClick={(e) => {\r\n                      setPagination(p);\r\n                    }}\r\n                    className=\"page-item page-link cursor\"\r\n                    style={{ padding: \".5rem 1rem\" }}\r\n                    key={uuid()}\r\n                  >\r\n                    {p}\r\n                  </li>\r\n                )\r\n              )}\r\n\r\n              <li\r\n                onClick={(e) => {\r\n                  if (pagination === pages.length) return;\r\n                  else setPagination(pagination + 1);\r\n                }}\r\n                style={{ padding: \".5rem 1rem\" }}\r\n                className=\"page-item page-link cursor\"\r\n              >\r\n                Next\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  users: state.users,\r\n  jwt: state.jwt,\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(FindUser);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { API_URL } from \"../config\";\r\nimport { CalcTime, uuid } from \"../user/uuid\";\r\nimport FindUser from \"./FindUser\";\r\n\r\nconst Users = ({ jwt, allusers, ...props }) => {\r\n  const [pages, setPages] = useState([]);\r\n  const [pagination, setPagination] = useState(1);\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n    let sl = 0;\r\n    let arr = [];\r\n    if (allusers) sl = Math.ceil(allusers.length / 10);\r\n    for (let i = 1; i < sl + 1; i++) arr.push(i);\r\n    setPages(arr);\r\n    console.log(allusers.length);\r\n  }, [allusers]);\r\n\r\n  const listUser = (pos) => {\r\n    const arr =\r\n      pos === \"left\"\r\n        ? allusers.slice((pagination - 1) * 10, (pagination - 1) * 10 + 5)\r\n        : allusers.slice((pagination - 1) * 10 + 5, (pagination - 1) * 10 + 10);\r\n\r\n    return (\r\n      <>\r\n        {allusers\r\n          ? arr.map((p) => (\r\n              <div\r\n                key={p._id}\r\n                className=\"list-group-item list-group-item-action flex-row d-flex align-items-start\"\r\n                style={{ flexFlow: \"nowrap\" }}\r\n              >\r\n                <div style={{ flexBasis: \"20%\", flexShrink: 0 }}>\r\n                  <Link to={`/profile/${p._id}`} className=\"w-100\">\r\n                    <div\r\n                      className=\"avatar-users\"\r\n                      style={{\r\n                        backgroundImage: `url(${API_URL}/user/photo/${p._id})`,\r\n                        backgroundPosition: \"center\",\r\n                        backgroundSize: \"cover\",\r\n                        width: \"100%\",\r\n                        paddingTop: \"100%\",\r\n                      }}\r\n                    ></div>\r\n                  </Link>\r\n                </div>\r\n                <div style={{ flexGrow: \"1\" }}>\r\n                  <div className=\"d-flex w-100 justify-content-between align-items-center\">\r\n                    <h5 className=\"mb-1 font-weight-bold text-primary\">\r\n                      <Link to={`/profile/${p._id}`}> {p.name}</Link>\r\n                    </h5>\r\n                    <small className=\"about-user\">\r\n                      <p className=\"small m-0\">\r\n                        joined&nbsp;\r\n                        {CalcTime(p.createdAt)}\r\n                      </p>\r\n                    </small>\r\n                  </div>\r\n                  <p>\r\n                    {p.about ? (\r\n                      p.about.length > 200 ? (\r\n                        p.about.slice(0, 200) + \"...\"\r\n                      ) : (\r\n                        p.about\r\n                      )\r\n                    ) : (\r\n                      <small className=\"font-italic font-weight-light\">\r\n                        Not found user's about\r\n                      </small>\r\n                    )}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            ))\r\n          : \"\"}\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row\">\r\n        <FindUser />\r\n        <div className=\"col-12 mb-3\">\r\n          <h2>All Users</h2>\r\n        </div>\r\n        <div className=\"col-12 col-md-6 pr-5-md\">\r\n          <div className=\"list-group\">{listUser(\"left\")}</div>\r\n        </div>\r\n        <div className=\"col-12 col-md-6 pl-5-md\">\r\n          <div className=\"list-group\">{listUser(\"right\")}</div>\r\n        </div>\r\n        <div className=\"col-12 d-flex justify-content-center\">\r\n          <ul className=\"pagination \">\r\n            <li\r\n              onClick={(e) => {\r\n                if (pagination === 1) return;\r\n                else setPagination(pagination - 1);\r\n              }}\r\n              style={{ padding: \".5rem 1rem\" }}\r\n              className=\"page-item page-link cursor\"\r\n            >\r\n              Previous\r\n            </li>\r\n\r\n            {pages.map((p) =>\r\n              p === pagination ? (\r\n                <li\r\n                  onClick={(e) => {\r\n                    setPagination(p);\r\n                  }}\r\n                  className=\"page-item page-link cursor\"\r\n                  style={{\r\n                    backgroundColor: \"#3f51b5\",\r\n                    color: \"#fff\",\r\n                    padding: \".5rem 1rem\",\r\n                  }}\r\n                  key={uuid()}\r\n                >\r\n                  {p}\r\n                </li>\r\n              ) : (\r\n                <li\r\n                  onClick={(e) => {\r\n                    setPagination(p);\r\n                  }}\r\n                  className=\"page-item page-link cursor\"\r\n                  style={{ padding: \".5rem 1rem\" }}\r\n                  key={uuid()}\r\n                >\r\n                  {p}\r\n                </li>\r\n              )\r\n            )}\r\n\r\n            <li\r\n              onClick={(e) => {\r\n                if (pagination === pages.length) return;\r\n                else setPagination(pagination + 1);\r\n              }}\r\n              style={{ padding: \".5rem 1rem\" }}\r\n              className=\"page-item page-link cursor\"\r\n            >\r\n              Next\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <div className=\"col-12\" style={{ marginBottom: \"4rem\" }}></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  allusers: state.users,\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(Users);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { postPost } from \"./apiPost\";\r\n\r\nconst CreatePost = ({ jwt, ...props }) => {\r\n  const initvalue = {\r\n    title: \"\",\r\n    body: \"\",\r\n    photo: \"\",\r\n    error: \"\",\r\n    success: false,\r\n    formData: \"\",\r\n    loading: false,\r\n  };\r\n  const [values, setValue] = useState(initvalue);\r\n  const [formData, setformData] = useState(null);\r\n  const { title, body, success, error, loading } = values;\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n    setformData(new FormData());\r\n  }, []);\r\n\r\n  const Change = (e) => {\r\n    const name = e.target.name;\r\n    const value = name === \"photo\" ? e.target.files[0] : e.target.value;\r\n    formData.set(name, value);\r\n    setValue({ ...values, [name]: value });\r\n  };\r\n  const Submit = (e) => {\r\n    e.preventDefault();\r\n    formData.set(\"postedBy\", jwt.user._id);\r\n    setValue({ ...values, loading: true });\r\n    postPost(formData, jwt.token)\r\n      .then((data) => {\r\n        console.log(data);\r\n        if (data.error)\r\n          return setValue({ ...values, loading: false, error: data.error });\r\n        return setValue({ ...initvalue, success: true });\r\n      })\r\n      .catch((e) => console.log(e));\r\n  };\r\n\r\n  const Error = () => {\r\n    if (error)\r\n      return error === \"jwt expired\" ? (\r\n        <>\r\n          {\r\n            <div className=\"alert alert-danger\">\r\n              {error}, try <Link to=\"/signin\">signin</Link> again\r\n            </div>\r\n          }\r\n        </>\r\n      ) : (\r\n        <div className=\"alert alert-danger\">{error}</div>\r\n      );\r\n  };\r\n  const Success = () => (\r\n    <>{success && <div className=\"alert alert-success\">Post created</div>} </>\r\n  );\r\n  const Loading = () => (\r\n    <>{loading ? <h2 className=\"lead bg-light p-5\">Loading...</h2> : \"\"} </>\r\n  );\r\n\r\n  const form = () => (\r\n    <>\r\n      <form onSubmit={Submit}>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"\" className=\"text-muted\">\r\n            Photo\r\n          </label>\r\n          <input\r\n            type=\"file\"\r\n            name=\"photo\"\r\n            className=\"form-control-file\"\r\n            onChange={Change}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"\" className=\"text-muted\">\r\n            Title\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"title\"\r\n            className=\"form-control\"\r\n            onChange={Change}\r\n            value={title}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"\" className=\"text-muted\">\r\n            Body\r\n          </label>\r\n          <textarea\r\n            rows=\"8\"\r\n            name=\"body\"\r\n            className=\"form-control\"\r\n            onChange={Change}\r\n            value={body}\r\n          />\r\n        </div>\r\n        <button type=\"submit\" className=\"btn btn-raised btn-primary\">\r\n          Submit\r\n        </button>\r\n      </form>\r\n    </>\r\n  );\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <h2 className=\"mb-5\">New Post</h2>\r\n        </div>\r\n        <div className=\"col-12\">\r\n          {Error()}\r\n          {Success()}\r\n          {Loading()}\r\n          {form()}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  jwt: state.jwt,\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(CreatePost);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { GET_USER } from \"../redux/actions/actionTypes\";\r\nimport { updateUser } from \"./apiUser\";\r\n\r\nconst EditProfile = ({ jwt, ...props }) => {\r\n  const init = {\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    error: \"\",\r\n    photo: \"\",\r\n    about: \"\",\r\n    success: false,\r\n  };\r\n\r\n  const [formSubmit, setFormSubmit] = useState(new FormData());\r\n  const [value, setValue] = useState(init);\r\n  const { email, password, error, success, name, about } = value;\r\n  const { user, token } = jwt;\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n    setValue({ ...value, name: jwt.user.name, about: jwt.user.about });\r\n    formSubmit.set(\"name\", jwt.user.name);\r\n    formSubmit.set(\"about\", jwt.user.about);\r\n  }, [jwt]);\r\n\r\n  const Change = (e) => {\r\n    const name = e.target.name;\r\n    const value = name === \"photo\" ? e.target.files[0] : e.target.value;\r\n    formSubmit.set(name, value);\r\n    setValue({ ...value, [name]: value });\r\n  };\r\n\r\n  const Submit = (e) => {\r\n    console.log(props.location);\r\n    e.preventDefault();\r\n\r\n    updateUser(user._id, token, formSubmit)\r\n      .then((data) => {\r\n        if (data.error) setValue({ ...value, error: data.error });\r\n        else {\r\n          localStorage.setItem(\"jwt\", JSON.stringify(data));\r\n          props.dispatch({ type: GET_USER, payload: data });\r\n          setValue({ ...init, success: true });\r\n        }\r\n      })\r\n      .catch((e) => console.log(e));\r\n  };\r\n\r\n  const showError = () => {\r\n    if (error)\r\n      return error === \"jwt expired\" ? (\r\n        <>\r\n          {\r\n            <div className=\"alert alert-danger\">\r\n              {error},try <Link to=\"/signin\">signin</Link> again\r\n            </div>\r\n          }\r\n        </>\r\n      ) : (\r\n        <> {error ? <div className=\"alert alert-danger\">{error}</div> : \"\"} </>\r\n      );\r\n  };\r\n\r\n  const showSuccess = () => (\r\n    <>\r\n      {success ? (\r\n        <>\r\n          <Redirect to={`/profile/${user._id}`} />\r\n        </>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </>\r\n  );\r\n\r\n  const form = () => (\r\n    <form onSubmit={Submit}>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"\" className=\"text-muted\">\r\n          Avatar\r\n        </label>\r\n        <input\r\n          type=\"file\"\r\n          name=\"photo\"\r\n          onChange={Change}\r\n          className=\"form-control-file\"\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"\" className=\"text-muted\">\r\n          Name\r\n        </label>\r\n        <input\r\n          type=\"name\"\r\n          name=\"name\"\r\n          className=\"form-control\"\r\n          value={name}\r\n          onChange={Change}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"\" className=\"text-muted\">\r\n          Email\r\n        </label>\r\n        <input\r\n          type=\"email\"\r\n          name=\"email\"\r\n          className=\"form-control\"\r\n          value={email}\r\n          onChange={Change}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"\" className=\"text-muted\">\r\n          Password\r\n        </label>\r\n        <input\r\n          type=\"password\"\r\n          name=\"password\"\r\n          className=\"form-control\"\r\n          value={password}\r\n          onChange={Change}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"\" className=\"text-muted\">\r\n          About yourself\r\n        </label>\r\n        <textarea\r\n          rows=\"7\"\r\n          name=\"about\"\r\n          className=\"form-control\"\r\n          value={about}\r\n          onChange={Change}\r\n        />\r\n      </div>\r\n      <button type=\"submit\" className=\"btn btn-raised btn-primary\">\r\n        Submit\r\n      </button>\r\n    </form>\r\n  );\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <h3 className=\"mb-5\">Edit Profile</h3>\r\n\r\n          {showError()}\r\n          {showSuccess()}\r\n          {form()}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  jwt: state.jwt,\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(EditProfile);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { API_URL } from \"../config\";\r\nimport { followUser, getUser, getUserPosts, unfollowUser } from \"./apiUser\";\r\nimport { deleteUser } from \"../user/apiUser\";\r\nimport { GET_USER } from \"./../redux/actions/actionTypes\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { CalcTime, uuid } from \"./uuid\";\r\n\r\nconst Profile = ({ match, jwt, ...props }) => {\r\n  // const [userFetch, setUserFetch] = useState();\r\n  const [user, setUser] = useState({});\r\n  const [isOne, setIsOne] = useState(false);\r\n  const [follow, setFollow] = useState(undefined);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [userPosts, setUserPosts] = useState([]);\r\n\r\n  useEffect(() => window.scrollTo(0, 0), []);\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n    // get user hiện tại thông qua match.params\r\n    getUser(match.params.userId)\r\n      .then((data) => {\r\n        if (data.error) return setError(data.error);\r\n        if (data._id == jwt.user._id) {\r\n          setIsOne(true);\r\n          setUser(jwt.user);\r\n          setFollow(\r\n            jwt.user.following.find((p) => p._id === jwt.user._id)\r\n              ? true\r\n              : false\r\n          );\r\n        } else {\r\n          setIsOne(false);\r\n          setUser(data);\r\n          if (jwt.user.following)\r\n            setFollow(\r\n              jwt.user.following.find((p) => p._id === data._id) ? true : false\r\n            );\r\n          else setFollow(false);\r\n        }\r\n      })\r\n      .catch((e) => console.log(e));\r\n\r\n    // get listPost\r\n    getUserPosts(match.params.userId)\r\n      .then((data) => {\r\n        if (!data.error) setUserPosts(data);\r\n      })\r\n      .catch((e) => console.log(e));\r\n  }, [match, jwt]);\r\n\r\n  const deleteAcc = () => {\r\n    const confirm = window.confirm(\"Do you want to delete account?\");\r\n    if (confirm) {\r\n      deleteUser(user._id, jwt.token)\r\n        .then((data) => {\r\n          if (data.error) {\r\n            return setError(data.error);\r\n          } else {\r\n            props.dispatch({\r\n              type: GET_USER,\r\n              payload: { token: \"\", user: {} },\r\n            });\r\n            localStorage.removeItem(\"jwt\");\r\n            props.history.push(\"/\");\r\n          }\r\n        })\r\n        .catch((e) => console.log(e));\r\n    }\r\n  };\r\n\r\n  const Follow = () => {\r\n    setLoading(true);\r\n    followUser(jwt.user._id, user._id, jwt.token).then((data) => {\r\n      if (data.error) return setError(data.error);\r\n      getUser(jwt.user._id).then((data) => {\r\n        localStorage.setItem(\r\n          \"jwt\",\r\n          JSON.stringify({\r\n            token: jwt.token,\r\n            user: data,\r\n          })\r\n        );\r\n        props.dispatch({\r\n          type: GET_USER,\r\n          payload: {\r\n            token: jwt.token,\r\n            user: data,\r\n          },\r\n        });\r\n        setLoading(false);\r\n      });\r\n    });\r\n  };\r\n  const Unfollow = () => {\r\n    setLoading(true);\r\n    unfollowUser(jwt.user._id, user._id, jwt.token).then((data) => {\r\n      if (data.error) return setError(data.error);\r\n      getUser(jwt.user._id).then((data) => {\r\n        if (data.err) return;\r\n        localStorage.setItem(\r\n          \"jwt\",\r\n          JSON.stringify({\r\n            token: jwt.token,\r\n            user: data,\r\n          })\r\n        );\r\n        props.dispatch({\r\n          type: GET_USER,\r\n          payload: {\r\n            token: jwt.token,\r\n            user: data,\r\n          },\r\n        });\r\n\r\n        setLoading(false);\r\n      });\r\n    });\r\n  };\r\n\r\n  const Avatar = () => (\r\n    <div className=\"col-md-4 col-12\">\r\n      <div className=\"avatar-profile\">\r\n        {user._id ? (\r\n          <img\r\n            className=\"img-thumbnail\"\r\n            src={`${API_URL}/user/photo/${user._id}`}\r\n            alt=\"\"\r\n          />\r\n        ) : (\r\n          \"Loading...\"\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n  const Info = () => (\r\n    <div className=\"col-md-8 col-12\">\r\n      <div className=\"profile-info\">\r\n        Name:{\" \"}\r\n        {user.name ? (\r\n          <span className=\"name-profile\">{user.name}</span>\r\n        ) : (\r\n          \"Loading...\"\r\n        )}\r\n      </div>\r\n      <div className=\"profile-info\">\r\n        Email:{\" \"}\r\n        {user.email ? (\r\n          <span className=\"email-profile\">{user.email}</span>\r\n        ) : (\r\n          \"Loading...\"\r\n        )}\r\n      </div>\r\n      <div className=\"profile-info\">\r\n        Joined at:{\" \"}\r\n        <span className=\"joined-profile\">\r\n          {new Date(user.createdAt).toLocaleString()}\r\n        </span>\r\n      </div>\r\n      <div className=\"profile-info\">\r\n        About:{\" \"}\r\n        {user.about ? (\r\n          <div className=\"span about-profile card-text\">{user.about}</div>\r\n        ) : (\r\n          <span className=\"not-found  \">Not found user's about</span>\r\n        )}\r\n      </div>\r\n      {isOne ? (\r\n        <div className=\"d-flex justify-content-between button-container\">\r\n          <Link className=\"btn btn-raised btn-info\" to={`/post/create`}>\r\n            Create Post\r\n          </Link>\r\n\r\n          {user._id && (\r\n            <Link\r\n              className=\"btn btn-raised btn-success\"\r\n              to={`/edit/${user._id}`}\r\n            >\r\n              Edit Profile\r\n            </Link>\r\n          )}\r\n\r\n          <button className=\"btn btn-raised btn-danger\" onClick={deleteAcc}>\r\n            Delete Profile\r\n          </button>\r\n        </div>\r\n      ) : (\r\n        jwt.user._id && (\r\n          <div className=\"d-flex\">\r\n            {follow !== undefined ? (\r\n              follow ? (\r\n                <>\r\n                  <button\r\n                    className=\"btn btn-raised btn-danger\"\r\n                    onClick={Unfollow}\r\n                  >\r\n                    {loading ? \"...\" : \"UnFollow\"}\r\n                  </button>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <button\r\n                    className=\"btn btn-raised btn-primary\"\r\n                    onClick={Follow}\r\n                  >\r\n                    {loading ? \"...\" : \"Follow\"}\r\n                  </button>\r\n                </>\r\n              )\r\n            ) : (\r\n              \"waiting...\"\r\n            )}\r\n          </div>\r\n        )\r\n      )}\r\n    </div>\r\n  );\r\n  const Action = () => (\r\n    <div className=\"col-12 mt-5\">\r\n      <hr className=\"m-0\" />\r\n      <ul className=\"row nav nav-tabs nav-justified\">\r\n        <div className=\"col-12 col-md-4 \">\r\n          <li className=\"nav-item \">\r\n            <a className=\"nav-link cursor info-title-user\">\r\n              Post &nbsp;\r\n              <span className=\"text-dark\">\r\n                ({userPosts && userPosts.length})\r\n              </span>\r\n            </a>\r\n            <ul className=\"list-group box-navigator\">\r\n              {userPosts.length > 0 &&\r\n                userPosts.slice(0, 50).map((p) => (\r\n                  <li key={uuid()} className=\" d-flex \">\r\n                    <div className=\"contain-litle-avatar contain-litle-post\">\r\n                      <Link\r\n                        to={`/post/${p._id}`}\r\n                        className=\"content-litle-avatar container-little-post\"\r\n                        style={{\r\n                          backgroundImage: `url(${API_URL}/post/photo/${p._id})`,\r\n                        }}\r\n                      />\r\n                    </div>\r\n                    <span className=\"name-after-avatar name-after-post\">\r\n                      <Link to={`/post/${p._id}`}>{p.title}</Link>\r\n                      <div className=\"created-post text-muted\">\r\n                        Created {CalcTime(p.createdAt)}\r\n                      </div>\r\n                    </span>\r\n                  </li>\r\n                ))}\r\n              {userPosts && userPosts.length > 50 && (\r\n                <div className=\"alert alert-warning\">\r\n                  Reach maximum 50 posts\r\n                </div>\r\n              )}\r\n            </ul>\r\n          </li>\r\n        </div>\r\n        <div className=\"col-12 col-md-4 \">\r\n          <li className=\"nav-item \">\r\n            <a className=\"nav-link cursor info-title-user \">\r\n              Following &nbsp;\r\n              <span className=\"text-dark\">\r\n                ({user.following && user.following.length})\r\n              </span>\r\n            </a>\r\n            <ul className=\"list-group box-navigator\">\r\n              {user.following &&\r\n                user.following.slice(0, 50).map((p) => (\r\n                  <li key={uuid()} className=\" d-flex align-items-center\">\r\n                    <div className=\"contain-litle-avatar\">\r\n                      <Link\r\n                        to={`/profile/${p._id}`}\r\n                        className=\"content-litle-avatar\"\r\n                        style={{\r\n                          backgroundImage: `url(${API_URL}/user/photo/${p._id})`,\r\n                        }}\r\n                      />\r\n                    </div>\r\n                    <span className=\"name-after-avatar\">\r\n                      <Link to={`/profile/${p._id}`}>{p.name}</Link>\r\n                    </span>\r\n                  </li>\r\n                ))}\r\n              {user.following && user.following.length > 50 && (\r\n                <div className=\"alert alert-warning\">\r\n                  Reach maximum 50 following\r\n                </div>\r\n              )}\r\n            </ul>\r\n          </li>\r\n        </div>\r\n        <div className=\"col-12 col-md-4 \">\r\n          <li className=\"nav-item \">\r\n            <a className=\"nav-link cursor info-title-user \">\r\n              Followers &nbsp;\r\n              <span className=\"text-dark\">\r\n                ({user.followers && user.followers.length})\r\n              </span>\r\n            </a>\r\n            <ul className=\"list-group box-navigator\">\r\n              {user.followers &&\r\n                user.followers.slice(0, 50).map((p) => (\r\n                  <li key={uuid()} className=\" d-flex align-items-center\">\r\n                    <div className=\"contain-litle-avatar\">\r\n                      <Link\r\n                        to={`/profile/${p._id}`}\r\n                        className=\"content-litle-avatar\"\r\n                        style={{\r\n                          backgroundImage: `url(${API_URL}/user/photo/${p._id})`,\r\n                        }}\r\n                      />\r\n                    </div>\r\n                    <span className=\"name-after-avatar\">\r\n                      <Link to={`/profile/${p._id}`}>{p.name}</Link>\r\n                    </span>\r\n                  </li>\r\n                ))}\r\n              {user.followers && user.followers.length > 50 && (\r\n                <div className=\"alert alert-warning\">\r\n                  Reach maximum 50 followers\r\n                </div>\r\n              )}\r\n            </ul>\r\n          </li>\r\n        </div>\r\n      </ul>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row\">\r\n        <div className=\"col-12 mb-3\">\r\n          <h2>Profile</h2>\r\n        </div>\r\n        {error ? (\r\n          error === \"jwt expired\" ? (\r\n            <div className=\"col-12\">\r\n              <div className=\"alert alert-danger\">\r\n                {error}, try <Link to=\"/login\">login</Link> again\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"col-12\">\r\n              <div className=\"alert alert-danger\">{error}</div>\r\n            </div>\r\n          )\r\n        ) : (\r\n          <>\r\n            {Avatar()}\r\n            {Info()}\r\n            {Action()}\r\n          </>\r\n        )}\r\n        <div className=\"col-12\" style={{ marginBottom: \"4rem\" }}></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  jwt: state.jwt,\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(Profile);\r\n","import React, { useState } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { signinAPI } from \"./apiUser\";\r\nimport { connect } from \"react-redux\";\r\nimport { GET_USER } from \"./../redux/actions/actionTypes\";\r\n\r\nconst Signin = ({ location, ...props }) => {\r\n  const init = {\r\n    email: \"\",\r\n    password: \"\",\r\n    error: \"\",\r\n    success: false,\r\n    loading: false,\r\n  };\r\n  const [value, setValue] = useState(init);\r\n  const { email, password, loading, error, success } = value;\r\n\r\n  const Change = (e) => {\r\n    setValue({ ...value, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const Submit = (e) => {\r\n    e.preventDefault();\r\n    setValue({ ...value, loading: true });\r\n    signinAPI(email, password)\r\n      .then((data) => {\r\n        if (data.error)\r\n          setValue({ ...value, loading: false, error: data.error });\r\n        else {\r\n          setValue({ ...init, success: true });\r\n          props.dispatch({ type: GET_USER, payload: data });\r\n          localStorage.setItem(\"jwt\", JSON.stringify(data));\r\n        }\r\n      })\r\n      .catch((e) => console.log(e));\r\n  };\r\n\r\n  const showError = () => (\r\n    <> {error ? <div className=\"alert alert-danger\">{error}</div> : \"\"} </>\r\n  );\r\n  const showSuccess = () => (\r\n    <>\r\n      {success ? (\r\n        <Redirect to={location.state ? location.state.prev : \"/\"} />\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </>\r\n  );\r\n  const Loading = () => (\r\n    <>{loading ? <h2 className=\"lead bg-light p-5\">Loading...</h2> : \"\"} </>\r\n  );\r\n  const form = () => (\r\n    <form onSubmit={Submit}>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"\" className=\"text-muted\">\r\n          Email\r\n        </label>\r\n        <input\r\n          type=\"email\"\r\n          name=\"email\"\r\n          className=\"form-control\"\r\n          value={email}\r\n          onChange={Change}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"\" className=\"text-muted\">\r\n          Password\r\n        </label>\r\n        <input\r\n          type=\"password\"\r\n          name=\"password\"\r\n          className=\"form-control\"\r\n          value={password}\r\n          onChange={Change}\r\n        />\r\n      </div>\r\n      <button type=\"submit\" className=\"btn btn-raised btn-primary\">\r\n        Submit\r\n      </button>\r\n    </form>\r\n  );\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <h3 className=\"mb-5\">Sign In</h3>\r\n          {Loading()}\r\n          {showError()}\r\n          {showSuccess()}\r\n          {form()}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapstate = (state) => ({ jwt: state.jwt });\r\n\r\nexport default connect(mapstate, null)(Signin);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { signupAPI } from \"./apiUser\";\r\nimport \"../App.css\";\r\nimport { GET_ALL_USER } from \"../redux/actions/actionTypes\";\r\n\r\nconst Signup = ({ users, ...props }) => {\r\n  const init = {\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    error: \"\",\r\n    photo: \"\",\r\n    about: \"\",\r\n    success: false,\r\n    loading: false,\r\n  };\r\n\r\n  const [values, setValue] = useState(init);\r\n  let { email, password, loading, error, success, name, about } = values;\r\n\r\n  const [formSubmit, setformSubmit] = useState(null);\r\n  useEffect(() => setformSubmit(new FormData()), []);\r\n\r\n  const Change = (e) => {\r\n    const name = e.target.name;\r\n    const value = name === \"photo\" ? e.target.files[0] : e.target.value;\r\n    formSubmit.set(name, value);\r\n    setValue({ ...values, [name]: value });\r\n    console.log(values);\r\n  };\r\n\r\n  const Submit = (e) => {\r\n    e.preventDefault();\r\n    console.log(values);\r\n    setValue({ ...values, loading: true });\r\n    signupAPI(formSubmit)\r\n      .then((data) => {\r\n        console.log(data);\r\n        if (data.error)\r\n          setValue({ ...values, loading: false, error: data.error });\r\n        else {\r\n          props.dispatch({ type: GET_ALL_USER, payload: [...users, data] });\r\n          setValue({ ...init, success: true });\r\n        }\r\n      })\r\n      .catch((e) => console.log(e));\r\n  };\r\n\r\n  const showError = () => (\r\n    <> {error ? <div className=\"alert alert-danger\">{error}</div> : \"\"} </>\r\n  );\r\n  const showSuccess = () => (\r\n    <>\r\n      {success ? (\r\n        <>\r\n          <div className=\"card toSignin\">\r\n            <h5 className=\"card-header\">New account</h5>\r\n            <div className=\"card-body\">\r\n              <p className=\"card-text\">Sign up success, new account created</p>\r\n              <Link to=\"/signin\" className=\"btn btn-success btn-raised \">\r\n                Sign in\r\n              </Link>\r\n            </div>\r\n          </div>\r\n          <div className=\"overlay-signup\"></div>\r\n        </>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </>\r\n  );\r\n  const Loading = () => (\r\n    <>{loading ? <h2 className=\"lead bg-light p-5\">Loading...</h2> : \"\"} </>\r\n  );\r\n\r\n  const form = () => (\r\n    <form onSubmit={Submit}>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"\" className=\"text-muted\">\r\n          Avatar\r\n        </label>\r\n        <input\r\n          type=\"file\"\r\n          name=\"photo\"\r\n          onChange={Change}\r\n          className=\"form-control-file\"\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"\" className=\"text-muted\">\r\n          Name\r\n        </label>\r\n        <input\r\n          type=\"name\"\r\n          name=\"name\"\r\n          className=\"form-control\"\r\n          value={name}\r\n          onChange={Change}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"\" className=\"text-muted\">\r\n          Email\r\n        </label>\r\n        <input\r\n          type=\"email\"\r\n          name=\"email\"\r\n          className=\"form-control\"\r\n          value={email}\r\n          onChange={Change}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"\" className=\"text-muted\">\r\n          Password\r\n        </label>\r\n        <input\r\n          type=\"password\"\r\n          name=\"password\"\r\n          className=\"form-control\"\r\n          value={password}\r\n          onChange={Change}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <label htmlFor=\"\" className=\"text-muted\">\r\n          About yourself\r\n        </label>\r\n        <textarea\r\n          rows=\"10\"\r\n          name=\"about\"\r\n          className=\"form-control\"\r\n          value={about}\r\n          onChange={Change}\r\n        />\r\n      </div>\r\n      <button type=\"submit\" className=\"btn btn-raised btn-primary\">\r\n        Submit\r\n      </button>\r\n    </form>\r\n  );\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <h3 className=\"mb-5\">{\"Sign Up\"}</h3>\r\n          {Loading()}\r\n          {showError()}\r\n          {showSuccess()}\r\n          {form()}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  users: state.users,\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(Signup);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { updatePost } from \"./apiPost\";\r\n\r\nconst UpdatePost = ({ jwt, ...props }) => {\r\n  const initvalue = {\r\n    title: \"\",\r\n    body: \"\",\r\n    photo: \"\",\r\n    error: \"\",\r\n    success: false,\r\n    formData: \"\",\r\n    loading: false,\r\n  };\r\n  const [values, setValue] = useState(initvalue);\r\n  const [formData, setformData] = useState(new FormData());\r\n  const { title, body, success, error, loading } = values;\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n    const currentPost = props.posts.find(\r\n      (p) => p._id === props.match.params.postId\r\n    );\r\n    setValue({ ...values, ...currentPost });\r\n    for (let i in currentPost) {\r\n      formData.set(i, currentPost[i]);\r\n    }\r\n  }, [jwt, props.posts]);\r\n\r\n  const Change = (e) => {\r\n    const name = e.target.name;\r\n    const value = name === \"photo\" ? e.target.files[0] : e.target.value;\r\n    formData.set(name, value);\r\n    setValue({ ...values, [name]: value });\r\n  };\r\n\r\n  const Submit = (e) => {\r\n    e.preventDefault();\r\n    formData.set(\"postedBy\", jwt.user._id);\r\n    setValue({ ...values, loading: true });\r\n    updatePost(formData, props.match.params.postId, jwt.token)\r\n      .then((data) => {\r\n        console.log(data);\r\n        if (data.error)\r\n          return setValue({ ...values, loading: false, error: data.error });\r\n        return setValue({ ...initvalue, success: true });\r\n      })\r\n      .catch((e) => console.log(e));\r\n  };\r\n\r\n  const Error = () => {\r\n    if (error)\r\n      return error === \"jwt expired\" ? (\r\n        <>\r\n          {error && (\r\n            <div className=\"alert alert-danger\">\r\n              {error}, try <Link to=\"/signin\">signin</Link> again\r\n            </div>\r\n          )}{\" \"}\r\n        </>\r\n      ) : (\r\n        <>{error && <div className=\"alert alert-danger\">{error}</div>} </>\r\n      );\r\n  };\r\n  const Success = () => (\r\n    <>{success && <div className=\"alert alert-success\">Post updated</div>} </>\r\n  );\r\n  const Loading = () => (\r\n    <>{loading ? <h2 className=\"lead bg-light p-5\">Loading...</h2> : \"\"} </>\r\n  );\r\n\r\n  const form = () => (\r\n    <>\r\n      <form onSubmit={Submit}>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"\" className=\"text-muted\">\r\n            Photo\r\n          </label>\r\n          <input\r\n            type=\"file\"\r\n            name=\"photo\"\r\n            className=\"form-control-file\"\r\n            onChange={Change}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"\" className=\"text-muted\">\r\n            Title\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"title\"\r\n            className=\"form-control\"\r\n            onChange={Change}\r\n            value={title}\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"\" className=\"text-muted\">\r\n            Body\r\n          </label>\r\n          <textarea\r\n            style={{ whiteSpace: \"pre-line\" }}\r\n            name=\"body\"\r\n            className=\"form-control\"\r\n            onChange={Change}\r\n            value={body}\r\n          />\r\n        </div>\r\n        <button type=\"submit\" className=\"btn btn-raised btn-primary\">\r\n          Submit\r\n        </button>\r\n      </form>\r\n    </>\r\n  );\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <h2 className=\"mb-5\">Update Post</h2>\r\n        </div>\r\n        <div className=\"col-12\">\r\n          {Error()}\r\n          {Success()}\r\n          {Loading()}\r\n          {form()}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  jwt: state.jwt,\r\n  posts: state.posts,\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(withRouter(UpdatePost));\r\n","import React from \"react\";\nimport { Switch, Route, BrowserRouter } from \"react-router-dom\";\nimport PrivateRoute from \"./auth/PrivateRoute\";\nimport Home from \"./core/Home\";\nimport Menu from \"./core/Menu\";\nimport Post from \"./core/Post\";\nimport Users from \"./core/Users\";\nimport CreatePost from \"./post/CreatePost\";\nimport EditProfile from \"./user/EditProfile\";\nimport Profile from \"./user/Profile\";\nimport Signin from \"./user/Signin\";\nimport Signup from \"./user/Signup\";\nimport UpdatePost from \"./post/UpdatePost\";\n\nfunction Routes() {\n  return (\n    <BrowserRouter>\n      <div>\n        <Menu />\n        <Switch>\n          <Route path=\"/\" exact component={Home} />\n          <Route path=\"/profile/:userId\" component={Profile} />\n          <Route path=\"/signup\" component={Signup} />\n          <Route path=\"/signin\" component={Signin} />\n          <Route path=\"/users\" component={Users} />\n          <PrivateRoute path=\"/edit/:userId\">\n            <EditProfile />\n          </PrivateRoute>\n          <PrivateRoute path=\"/post/create\">\n            <CreatePost />\n          </PrivateRoute>\n          <PrivateRoute path=\"/post/update/:postId\">\n            <UpdatePost />\n          </PrivateRoute>\n          <Route path=\"/post/:postId\" component={Post} />\n        </Switch>\n      </div>\n    </BrowserRouter>\n  );\n}\n\nexport default Routes;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { store } from \"./redux\";\nimport Routes from \"./Routes\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <Routes />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}